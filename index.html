 <!DOCTYPE html>
<html lang="uz">

<head>
  <style>
    #mainLead {
      font-size: 10px !important;
      /* sezilarli kichikroq */
      color: #555 !important;
      /* yumshoq kulrang */
      line-height: 1.6;
      font-weight: 500;
      letter-spacing: 0.02em;
    }

    @media (max-width: 768px) {
      #mainLead {
        font-size: 13px !important;
        /* telefonda yanada kichikroq */
      }
    }

    #galleryGrid {
      display: grid;
      grid-template-columns: 1fr !important;
      /* har qatorda 1 ta lug‘at */
      gap: 10px;
      /* oralariga biroz joy */
    }

    @media (max-width: 768px) {
      .phone {
        max-width: 100% !important;
        width: 100% !important;
        height: auto !important;
        border-radius: 16px;
        border: 1px solid #e0e0e0;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        padding: 16px;
      }

      .phone-top {
        font-size: 18px !important;
        padding: 12px 0;
      }

      .mini-card {
        font-size: 16px !important;
        padding: 10px 14px !important;
        border-radius: 10px !important;
        border: 1px solid #ddd;
      }

      .phone-screen {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 10px !important;
        padding: 10px !important;
        max-height: none !important;
      }

      .preview {
        justify-content: center !important;
        margin: 0 auto !important;
        width: 100% !important;
      }
    }
  </style>



  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>CEFR Reading | English Reading Practice and Vocabulary</title>
  <meta name="theme-color" content="#87CEEB">
  <link rel="icon" href="https://banner2.cleanpng.com/lnd/20250201/ae/37aa9a4e34fbe80da0980fc7d71031.webp" />
  <meta name="description"
    content="Practice CEFR reading exercises and improve your English with free texts and vocabulary lessons. Perfect for beginners and all CEFR levels (A1–C1).">
  <meta name="keywords"
    content="CEFR reading, English reading, CEFR A1, CEFR A2, reading practice, English learning, vocabulary, reading exercises">
  <meta name="author" content="erkinov4040-cloud">
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="googleaa65d6fb45c7d483.html">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
  /* site logo styling: use currentColor so it adapts to light/dark themes */
  .site-logo{display:inline-flex;align-items:center;gap:8px}
  .site-logo img, .site-logo svg{width:36px;height:36px;display:block;color:var(--accent,#2b8aef)}
  /* theme-aware header logo (works for IMG or inline SVG elements that use these classes) */
  .logo .logo-light{display:inline-block}
    .logo .logo-dark{display:none}
    body[data-theme="dark"] .logo .logo-light{display:none}
    body[data-theme="dark"] .logo .logo-dark{display:inline-block}
    /* Make dark-mode logo circular and centered */
    body[data-theme="dark"] .logo img.logo-dark {
      display: inline-block !important;
      width: 56px !important;
      height: 56px !important;
      object-fit: cover !important;
      border-radius: 50% !important;
      overflow: hidden !important;
      object-position: center !important;
      transform: scale(1) !important;
    }
    
    @media (max-width: 650px) {
      body[data-theme="dark"] .logo img.logo-dark {
        width: 32px !important;
        height: 32px !important;
      }
    }
    body[data-theme="dark"] .site-logo img, body[data-theme="dark"] .site-logo svg{filter: none}
    </style>
  <style>
    /* Faqat "Orqaga" tugmasiga ta’sir qiladi */
    button.btn[onclick="openSections()"] {
      display: block;
      margin: 25px auto;
      /* markazga olib keladi va yuqoridan bo‘sh joy beradi */
    }

    .telegram-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: transparent;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      margin: 0 8px;
      transition: transform 0.2s ease;
    }

    .telegram-btn:hover {
      transform: scale(1.1);
    }

    .tg-icon {
      width: 30px;
      height: 30px;
    }

    /* 🌙 Dark mode uchun moslashtirish */
    body[data-theme="dark"] .telegram-btn {
      background-color: #229ed9;
    }

    body[data-theme="dark"] .telegram-btn:hover {
      background-color: #33b0ec;
    }



    /* Kartochkalar, header, footer va preview */
    body[data-theme="dark"] .card-hero,
    body[data-theme="dark"] .section-card,
    body[data-theme="dark"] .img-wrap,
    body[data-theme="dark"] header,
    body[data-theme="dark"] .preview,
    body[data-theme="dark"] footer {
      background-color: rgba(30, 30, 30, 0.85);
      color: #e0e0e0;
      border-color: #444;
    }

    /* Bo‘lim nomlari aksent rang */
    body[data-theme="dark"] .section-title {
      color: #87CEEB;
    }

    /* Xira matnlar */
    body[data-theme="dark"] .muted {
      color: #aaaaaa;
    }

    /* Buttonlar va footer linklari */
    body[data-theme="dark"] .btn,
    body[data-theme="dark"] .footer-contact {
      background-color: rgba(50, 50, 50, 0.85);
      color: #e0e0e0;
      border-color: #555;
    }
    
    /* Video player va resource window dark mode */
    body[data-theme="dark"] #resourceWindow,
    body[data-theme="dark"] .video-player,
    body[data-theme="dark"] .video-item {
      background-color: #1c1f26;
      color: #eaeaea;
      border-color: #2a2a2a;
    }
    
    body[data-theme="dark"] .video-item:hover {
      background: #272b35;
      border-color: #383f4a;
    }
    
    body[data-theme="dark"] .video-title,
    body[data-theme="dark"] #resourceWindowTitle,
    body[data-theme="dark"] #resourceWindowStat {
      color: #eaeaea;
    }
    
    body[data-theme="dark"] .btn[data-vid] {
      background-color: #2b313a;
      color: #ffffff;
      border-color: #383f4a;
    }
    
    body[data-theme="dark"] .btn[data-vid]:hover {
      background-color: #343b47;
      border-color: #454d5b;
    }


    :root {
      /* palette: oq, kulrang, osmonrang */
      --accent: #87CEEB;
      /* osmonrang (skyblue) */
      --accent2: #B0C4DE;
      /* engil kulrang-osmon */
      --muted: #6b6f76;
      /* kulrang mat */
      --surface: #f7f8fa;
      /* juda engil kulrang / oqga yaqin */
      --bg: #c8f3ed;
      /* sahifa fon oq */
      --text: #0f1720;
      /* matn uchun qorong'i kulrang (oq fon ustida) */
      --radius-lg: 20px;
      --radius-md: 13px;
      --radius-sm: 9px;
      --shadow: none;
      --header-h: 72px;
      --safe-bottom: env(safe-area-inset-bottom, 16px);
      /* barcha neon / blur / kuchli shadow olib tashlandi */
    }

    /* Base */
    * {
      box-sizing: border-box
    }

    html,
    body {
      height: 100%;
      scroll-behavior: smooth;
      overflow-y: auto;
      /* Ensure scroll target accounts for the sticky header (set via JS) */
      scroll-padding-top: var(--header-h, 72px);
      overscroll-behavior-y: none;
      -webkit-overflow-scrolling: touch;
    }

    body {
      margin: 0;
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      color: var(--text);
      background-color: #c454542c;
      will-change: scroll-position;
      /* biroz ochroq kulrang */



      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      min-height: 100vh;
    /* ensure content isn't hidden by phone gesture/navigation bars
      add an extra 48px so Android navigation bars are accounted for */
    padding-bottom: calc(var(--safe-bottom) + 48px);
      display: flex;
      flex-direction: column;
      position: relative;
      overflow-x: hidden;
    }

    /* background element simplified (no blur, no gradient) */
    .bg-anim {
      position: fixed;
      z-index: -1;
      inset: 0;
      width: 100vw;
      height: 100vh;
      background: var(--accent);
      /* solid sky color */
      opacity: 0.08;
      transition: opacity .8s;
    }

    /* layout */
    .wrap {
      max-width: 1200px;
      margin: 0 auto;
      padding: 32px 16px 0 16px;
  /* add extra bottom padding so footer/last items aren't covered by mobile UI */
  padding-bottom: calc(var(--safe-bottom) + 64px);
      width: 100%;
      flex: 1;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    /* dedication */
    .dedication {
      background: var(--surface);
      color: var(--text);
      font-weight: 600;
      padding: 13px 24px;
      border-radius: var(--radius-lg);
      text-align: center;
      margin-bottom: 26px;
      font-size: 15px;
      letter-spacing: 0.04em;
    }


    /* header */
    header {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      gap: 18px;
      flex-wrap: wrap;
      margin-bottom: 18px;
      position: sticky;
      top: 0;
      z-index: 99;
      border-radius: 15px;
      background: var(--surface);
      /* removed translucency and blur */
      border-radius: 15px;
      padding: 15px 25px;
      /* ichki joyni kengaytiradi */
      background-color: #eef3f9;
      /* juda och kulrang–osmon rang aralash */


    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap
    }

    .logo {
      width: 56px !important;
      /* logoning konteyner kengligi */
      height: 56px !important;
      /* logoning konteyner balandligi */
      border-radius: var(--radius-lg);
      overflow: hidden;
      /* rasm konteynerdan chiqmasin */
    }

    .logo img {
      width: 56px !important;
      height: 56px !important;
      object-fit: contain !important;
      /* rasm konteynerga moslashadi */
    }

    .brand-titles {
      display: flex;
      flex-direction: column;
      gap: 2px
    }

    .title {
      font-size: 22px;
      font-weight: 800;
      letter-spacing: 0.03em;
      color: var(--text)
    }

    .subtitle {
      font-size: 14px;
      color: var(--muted);
      font-weight: 500
    }

    .credits {
      font-size: 12px;
      background: transparent;
      border-radius: var(--radius-sm);
      color: var(--muted);
      margin-top: 7px;
      padding: 6px 10px;
      font-weight: 500;
      display: inline-block;
    }

    nav {
      display: flex;
      align-items: center;
      gap: 11px;
      margin-left: auto;
    }
    
    @media (max-width: 768px) {
      nav {
        margin-left: auto;
      }
      .brand {
        flex: 1;
      }
    }

    .theme-switch {
      background: transparent;
      border: 1px solid var(--accent2);
      border-radius: var(--radius-md);
      padding: 5px 10px;
      cursor: pointer;
      font-size: 16px;
      color: var(--muted);
      margin-left: 5px;
      transition: background .2s, color .2s;
    }
    
    @media (max-width: 768px) {
      .theme-switch {
        padding: 4px 8px;
        font-size: 14px;
      }
    }

    .theme-switch:hover {
      background: var(--accent2);
      color: var(--text);
    }

    .btn {
      padding: 11px 20px;
      border-radius: var(--radius-md);
      border: 1px solid #e6e6e9;
      background: var(--surface);
      color: var(--text);
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: transform .18s;
      outline: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn:hover,
    .btn:focus {
      transform: translateY(-2px);
    }

    /* hero */
    .hero {
      display: grid;
      grid-template-columns: minmax(0, 1fr) 320px; /* Reduced from 400px */
      /* left flexible, right fixed */
      gap: 24px; /* Slightly reduced gap */
      margin-top: 36px;
      align-items: start;
      /* align to top so columns don't vertically center */
      position: relative;
      z-index: 1;
    }

    .card-hero {
      background: rgba(255, 255, 255, 0.85);
      padding: 36px 30px 30px 30px;
      border-radius: var(--radius-lg);
      margin-bottom: 0;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      transform: translateZ(0);
      -webkit-transform: translateZ(0);
      will-change: transform;
      transition: all 0.3s ease-out;
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1),
                  0 20px 60px rgba(0, 0, 0, 0.05);
      position: relative;
      z-index: 2;
    }

    /* Dark mode styles */
    body[data-theme="dark"] .card-hero {
      background: rgba(28, 32, 38, 0.85);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5),
                  0 20px 60px rgba(0, 0, 0, 0.4);
      transform: translate(0);
      transition: all 0.3s ease;
    }

    body[data-theme="dark"] .card-hero:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6),
                  0 25px 70px rgba(0, 0, 0, 0.5);
    }

    body[data-theme="dark"] .card-hero:hover {
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6),
                  0 20px 60px rgba(0, 0, 0, 0.4),
                  inset 0 1px 1px rgba(255, 255, 255, 0.15);
      transform: translateY(-3px);
    }

    body[data-theme="dark"] .card-hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: inherit;
      border-radius: inherit;
      z-index: -1;
    }

    /* Raised variation: visually lifted (disabled -> restore original look) */
    .card-hero.raised {
      transform: none;
      box-shadow: none;
    }

    /* Left column wrapper to stack cards vertically */
    .hero-left {
      display: flex;
      flex-direction: column;
      gap: 18px;
      /* open spacing between stacked cards */
      /* let the grid control width so preview remains on the right */
    }

    /* Secondary card: same styling when stacked */
    .card-hero-secondary {
      margin-top: 18px;
      /* restore original vertical spacing */
    }

    /* Ensure preview (right column) stays a column and sits at top */
    .preview {
      align-self: start;
      max-width: 400px;
      width: 100%;
    }

    /* Make preview container transparent so only the phone box is white */
    .preview {
      background: transparent;
      padding: 0;
      display: flex;
      justify-content: center;
    }

    /* Leave the white surface to the phone itself */
    .phone {
      background: var(--surface);
      padding: 18px;
    }

    /* Add horizontal breathing room so preview doesn't touch the left cards */
    .hero-left {
      padding-right: 24px;
    }

    .card-hero h1 {
      margin: 0 0 11px;
      font-size: 26px;
      /* avval 32px edi */
      line-height: 1.2;
      font-weight: 700;
      color: var(--text);
      letter-spacing: 0.01em;
    }

    /* 📱 Telefon uchun yanada kichikroq */
    @media (max-width: 768px) {
      .card-hero h1 {
        font-size: 22px !important;
      }

      .lead {
        font-size: 12px !important;
        /* avval 17px edi */
        color: #555 !important;
        /* yumshoqroq kulrang */
        line-height: 1.6 !important;
        font-weight: 500 !important;
        /* biroz yengil */
        margin-bottom: 18px !important;
      }

      /* Inner @media removed (duplicate). If you need different rules for
         narrower widths, add another @media block outside this one. */

      .enter-btn {
        font-size: 15px !important;
        padding: 10px 20px !important;
      }
    }

    .lead {
      color: var(--muted);
      margin: 0 0 24px;
      font-size: 17px;
      font-weight: 500;
    }

    .enter-btn {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      padding: 14px 28px;
      border-radius: var(--radius-md);
      background: var(--accent);
      color: var(--text);
      font-weight: 700;
      border: none;
      cursor: pointer;
      font-size: 17px;
    }

    .card-hero .note {
      margin-top: 18px;
      color: var(--muted);
      font-size: 13px;
      background: transparent;
      padding: 8px 14px;
      border-radius: var(--radius-sm);
      font-weight: 500;
    }



    #resourceWindowGrid .small-title {
      font-size: 16px;
      font-weight: 600;
      margin: 0;
    }

    #resourceWindowGrid .small-meta {
      font-size: 13px;
      color: var(--muted);
    }

    #resourceWindowGrid .btn {
      align-self: flex-start;
      margin-top: auto;
    }

    body[data-theme="dark"] #resourceWindowGrid {
      background: #1c1f26 !important;
      border-color: #2a2a2a !important;
    }

    .video-desc {
      color:var(--muted);
      font-size:13px;
    }

    /* Playlist / sidebar */
    .video-list {
      background: transparent;
      border-radius: 12px;
      padding: 8px;
      display:flex;
      flex-direction:column;
      gap:8px;
      max-height:420px;
      overflow:auto;
    }

    .video-item {
      display:flex;
      gap:10px;
      align-items:center;
      padding:10px;
      border-radius:10px;
      cursor:pointer;
      transition: all .14s ease;
      background: #ffffff;
      border: 1px solid #e9eef5;
      height: 100px; /* Barcha video kartochkalar uchun bir xil balandlik */
      margin-bottom: 10px; /* Kartochkalar orasidagi masofa */
    }

    /* Video kartochkalar konteynerini to'g'rilash */
    #resourceWindowGrid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 15px;
      align-items: start;
    }

    /* Mobil qurilmalar uchun */
    @media (max-width: 768px) {
      #resourceWindowGrid {
        grid-template-columns: repeat(2, 1fr); /* 2 tadan */
        gap: 10px; /* Oraliqni kamroq qilish */
      }
      
      .video-item {
        height: 80px !important; /* Balandlikni kamaytirish */
      }
      
      .video-item img {
        width: 80px !important; /* Rasm o'lchamini kamaytirish */
        height: 50px !important;
      }
      
      .video-item .small-title {
        font-size: 12px !important; /* Sarlavha shriftini kichraytirish */
      }
    }

    /* Video kartochka ichidagi rasmlar uchun */
    .video-item img {
      width: 120px;
      height: 70px;
      object-fit: cover;
      flex-shrink: 0;
    }

    @media (max-width: 768px) {
      #resourceWindowGrid {
        grid-template-columns: repeat(2, 1fr) !important;
        padding: 10px !important;
      }
      
      .video-item {
        flex-direction: column !important;
        height: auto !important;
        min-height: 160px !important;
      }
      
      .video-item img {
        width: 100% !important;
        height: 100px !important;
        margin-bottom: 8px !important;
      }
      
      .title-col {
        padding: 0 5px !important;
      }
      
      .small-title {
        font-size: 11px !important;
        line-height: 1.2 !important;
        text-align: center !important;
      }
    }

    .video-thumb { width:84px; height:56px; border-radius:8px; object-fit:cover }

    .video-item .title-col { display:flex; flex-direction:column }

    .video-item .small-title { font-weight:600; color:#0f1720 }
    .video-item .small-meta { font-size:12px; color:var(--muted) }

    .video-item:hover { transform:translateY(-3px); box-shadow:0 6px 18px rgba(2,6,23,0.08) }

    /* Dark mode overrides (strong, scoped) */
    body[data-theme="dark"] .video-player { background: #1c1f26 !important; box-shadow:none }
    body[data-theme="dark"] .player-wrap { background:#0b0e11 !important }
    body[data-theme="dark"] .video-title, body[data-theme="dark"] .small-title { color:#eaeaea !important }
    body[data-theme="dark"] .video-desc, body[data-theme="dark"] .small-meta { color:#bfc3c7 !important }
    body[data-theme="dark"] .video-item { background:#17191d !important; border-color:#26282c !important }
    body[data-theme="dark"] .video-item:hover { background:#202427 !important; box-shadow:none }
    body[data-theme="dark"] .video-player iframe { background:#000 !important }

    /* preview / phone simplified */
    /* Final preview styling: transparent container, white phone box inside */
    .preview {
      align-self: start;
      max-width: 320px; /* Reduced from 400px */
      width: 100%;
      background: transparent;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      margin-left: 16px;
    }

    .phone {
      max-width: 280px; /* Reduced from 340px */
      width: 100%;
      height: 480px; /* Reduced from 570px */
      border-radius: var(--radius-lg);
      background: #ffffff;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      padding: 16px; /* Slightly reduced padding */
      box-shadow: none;
      border: 1px solid #e6e6e9;
    }

    .phone-top {
      height: 54px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      font-weight: 700;
      font-size: 15px;
      color: var(--accent2);
      border-bottom: 1px solid #e9e9ec;
    }

    .phone-screen {
      flex: 1;
      padding: 12px 10px;
      display: flex;
      flex-direction: column;
      gap: 9px;
      overflow-y: auto;
    }

    .mini-card {
      background: transparent;
      padding: 8px 12px;
      border-radius: var(--radius-sm);
      color: var(--muted);
      font-size: 13px;
      font-weight: 500;
      margin-bottom: 2px;
      border: 1px solid #eee;
    }

    /* Resource window helper classes */
    .resource-empty {
      padding: 28px;
      background: var(--surface);
      border-radius: 12px;
      text-align: center;
      font-weight: 700;
      color: var(--muted);
    }

    .resource-card {
      background: var(--surface);
      padding: 12px;
      border-radius: 12px;
    }

    body[data-theme="dark"] .resource-empty,
    body[data-theme="dark"] .resource-card {
      background: #1c1f26 !important;
      color: #eaeaea !important;
      border-color: #2a2a2a !important;
    }

    /* sections */
    .sections {
      display: grid;
  scroll-margin-top: 0;
  scroll-snap-align: start;
  scroll-margin-top: 0;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 22px;
      padding-bottom: calc(var(--safe-bottom) + 18px);
      margin-top: 30px;
      transform: translateZ(0);
      -webkit-transform: translateZ(0);
      backface-visibility: hidden;
      will-change: transform;
    }

    /* Smooth transitions for views */
    #hero, #sectionsView, #galleryView, #resourcesView {
      transition: opacity 0.2s ease-out, transform 0.2s ease-out;
      will-change: opacity, transform;
    }

    /* Layout robustness fixes
       - Ensure SPA main views occupy full width inside the flex column (.wrap)
       - Prevent grid items from overflowing or forcing unexpected wrapping
       - Make sure hero/preview columns don't produce overflow when hidden
    */
    main[id$="View"], #resourceWindow, #galleryView {
      width: 100%;
      box-sizing: border-box;
      display: block;
    }

    /* Prevent grid rows from collapsing and ensure items align to top */
    .sections, .gallery {
      align-items: start;
      grid-auto-rows: minmax(0, auto);
    }

    /* Ensure cards do not force columns to expand beyond available space */
    .section-card, .img-wrap {
      min-width: 0;
    }

    /* Prevent preview/hero children from creating horizontal overflow */
    .hero, .hero-left, .preview {
      min-width: 0;
    }

    .section-card {
      background: var(--surface);
      padding: 26px 20px;
      border-radius: var(--radius-md);
      cursor: pointer;
      border: 1px solid #e6e6e9;
      transition: transform .17s;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      position: relative;
    }

    .section-card:focus,
    .section-card:hover {
      transform: translateY(-6px);
      z-index: 1;
    }

    .section-title {
      font-weight: 700;
      margin-bottom: 7px;
      font-size: 19px;
      color: black;
    }

    .section-desc {
      font-size: 14px;
      color: var(--muted);
      font-weight: 500;
    }

    /* gallery */
    .gallery-controls-top {
      display: flex;
      align-items: center;
      gap: 14px;
      flex-wrap: wrap;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
      gap: 14px;
      margin-top: 18px;
      padding-bottom: calc(var(--safe-bottom) + 20px);
    }

    .img-wrap {
      background: var(--surface);
      padding: 14px;
      border-radius: var(--radius-md);
      color: var(--text);
      font-size: 17px;
      font-weight: 700;
      border: 1px solid #e6e6e9;
      transition: transform .12s;
      word-break: break-word;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      position: relative;
    }
    .img-wrap:hover,
    .img-wrap:focus {
      transform: scale(1.02);
    }

    .star {
      color: #c9a84b;
      font-size: 20px;
      margin-left: auto;
      transition: color .18s;
    }

    .star.inactive {
      color: rgba(0, 0, 0, 0.12);
    }

    .speak-btn {
      background: none;
      border: none;
      color: var(--accent);
      font-size: 18px;
      cursor: pointer;
      margin-left: auto;
      display: inline-flex;
      align-items: center;
    }

    .speak-btn:hover {
      color: #006f9a;
      transform: scale(1.06);
    }

    /* search */
    .search-bar {
      padding: 10px 14px;
      border-radius: var(--radius-md);
      border: 1px solid var(--accent2);
      background: #fff;
      font-size: 15px;
      color: var(--text);
      outline: none;
      margin-bottom: 12px;
      min-width: 0;
      transition: border .19s;
    }

    .search-bar:focus {
      border: 1.5px solid var(--accent);
    }

    /* modal */
    .modal-bg {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.18);
      z-index: 2000;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal {
      background: var(--surface);
      color: inherit;
      border-radius: var(--radius-lg);
      padding: 28px 22px 22px 22px;
      min-width: 310px;
      max-width: 90vw;
      position: relative;
      border: 1px solid #e6e6e9;
    }

    .modal-close {
      position: absolute;
      top: 10px;
      right: 18px;
      font-size: 28px;
      color: var(--muted);
      background: none;
      border: none;
      cursor: pointer;
    }

    .modal h3 {
      margin: 0 0 11px 0;
      font-size: 21px;
      color: var(--accent2);
    }

    .modal p {
      margin: 0 0 8px 0;
      font-size: 16px;
      color: inherit;
    }

    /* footer */
    footer {
  margin: 38px 0 10px 0;
  padding-bottom: calc(var(--safe-bottom) + 10px);
      color: var(--muted);
      font-size: 13px;
      text-align: center;
      background: transparent;
      border-radius: var(--radius-md);
      padding: 10px 0 8px 0;
      font-weight: 500;
      letter-spacing: 0.02em;
      position: relative;
    }

    .footer-contact {
      display: block;
      width: 100%;
      margin-top: 10px;
      color: var(--accent2);
      font-weight: 700;
      font-size: 15px;
      text-decoration: none;
      background: none;
      border: none;
      text-align: center;
      padding: 10px 0 0 0;
      cursor: pointer;
      transition: color .18s;
    }

    /* Footer links inside .footer-links should not stretch full width */
    .footer-links .footer-contact {
      display: inline-flex !important;
      width: auto !important;
      padding: 6px 10px !important;
    }

    .footer-contact:hover {
      color: var(--accent);
    }

    .khorazm {
      font-size: 11px;
      color: var(--muted);
      text-align: center;
      margin-top: 8px;
      font-family: 'Inter', monospace;
    }

    /* responsive adjustments kept */
    @media (max-width:1100px) {
      .wrap {
        max-width: 98vw
      }

      .hero {
        grid-template-columns: 1fr 330px
      }
    }

    @media (max-width:900px) {
      .hero {
        grid-template-columns: 1fr;
        gap: 18px
      }

      .preview {
        margin-top: 18px
      }

      .phone {
        max-width: 260px;
        height: 390px
      }

      .card-hero {
        padding: 22px 12px 18px 12px
      }

      .dedication {
        font-size: 14px;
        padding: 9px 10px
      }
    }

    @media (max-width:650px) {
      .wrap {
        padding: 18px 2vw 0 2vw
      }

      .dedication {
        font-size: 13px;
        padding: 7px 6px
      }

      header {
        gap: 9px
      }

      .logo {
        width: 34px !important;
        height: 34px !important;
        font-size: 1.2rem
      }

      .logo img {
        width: 34px !important;
        height: 34px !important;
      }

      .title {
        font-size: 16px
      }

      .subtitle {
        font-size: 12px
      }

      @media (max-width:720px) {
        .hero {
          grid-template-columns: 1fr;
        }

        .preview {
          max-width: 100%;
          width: 100%;
        }

        .card-hero.raised {
          transform: none;
          box-shadow: none;
        }
      }

      .credits {
        font-size: 10px;
        padding: 5px 8px;
        margin-top: 3px
      }

      .phone {
        max-width: 160px;
        height: 240px
      }

      .sections {
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 8px
      }

      .gallery {
        grid-template-columns: 1fr !important;
        gap: 10px !important
      }
    }

    .section h2,
    .card h3 {
      color: black;
    }

    /* Dark mode uchun */
    body[data-theme="dark"] {
      background-color: #121212;
      /* fon quyuq qora */
      color: #e0e0e0;
      /* matn tiniq oq */
    }

    body[data-theme="dark"] .section-card,
    body[data-theme="dark"] .card-hero,
    body[data-theme="dark"] .img-wrap,
    body[data-theme="dark"] header,
    body[data-theme="dark"] .preview,
    body[data-theme="dark"] footer {
      background-color: #1e1e1e;
      /* kartochkalar fonini qorong‘i qilish */
      color: #e0e0e0;
      /* matn tiniq oq */
      border-color: #2a2a2a;
    }

    body[data-theme="dark"] .section-title {
      color: #87CEEB;
      /* aksent tiniq osmonrang */
    }

    body[data-theme="dark"] .muted {
      color: #aaaaaa;
      /* xira matn biroz ko‘rinadi */
    }
  </style>
  <!-- Inline SVG symbols for logos (light/dark) -->
  <div id="inline-svgs" style="display:none">
    <svg xmlns="http://www.w3.org/2000/svg">
      <symbol id="logo-light" viewBox="0 0 64 64">
        <circle cx="32" cy="32" r="30" fill="#2bb4d9"></circle>
        <path d="M20 34c4-8 12-12 20-10" stroke="#fff" stroke-width="3" fill="none" stroke-linecap="round"/>
      </symbol>
      <symbol id="logo-dark" viewBox="0 0 64 64">
        <circle cx="32" cy="32" r="30" fill="#062029"></circle>
        <path d="M20 34c4-8 12-12 20-10" stroke="#87CEEB" stroke-width="3" fill="none" stroke-linecap="round"/>
      </symbol>
    </svg>
  </div>

  <!-- small favicon data URL (simple glyph) -->
  <link id="faviconLink" rel="icon" href='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><circle cx="32" cy="32" r="30" fill="%232bb4d9"/></svg>'>
  <style>
    /* Auto-contrast helper: when #hero is mostly visible, add `in-hero` on <body>
       so we can slightly adjust background/heading contrast without changing
       existing theme rules. This fixes the "Coder" / header text blending issue. */

    /* Base header rectangle: subtle frosted effect so the header block separates
       from the hero content while staying lightweight. We keep this small so
       it doesn't become visually heavy on mobile. */
    header {
      background-color: rgba(255,255,255,0.92); /* light gentle surface */
      -webkit-backdrop-filter: blur(6px) saturate(1.02);
      backdrop-filter: blur(6px) saturate(1.02);
      box-shadow: 0 6px 18px rgba(2,6,23,0.06);
      transition: background-color 220ms ease, box-shadow 220ms ease;
    }

    /* Dark-mode header base */
    body[data-theme="dark"] header {
      background-color: rgba(10,14,18,0.52);
      -webkit-backdrop-filter: blur(6px) saturate(1.02);
      backdrop-filter: blur(6px) saturate(1.02);
      box-shadow: 0 6px 18px rgba(0,0,0,0.55);
    }

    /* When viewing the hero, strengthen the separation slightly */
    body.in-hero header {
      box-shadow: 0 10px 36px rgba(2,6,23,0.18);
      -webkit-backdrop-filter: blur(8px) saturate(1.05);
      backdrop-filter: blur(8px) saturate(1.05);
      z-index: 120;
    }

    /* Slightly tint the animated background while in-hero so top text contrasts better */
    body.in-hero .bg-anim {
      opacity: 0.06 !important;
      background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(0,0,0,0.06));
    }

    /* Make the credits line stand out a bit when hero is active (dark mode & light) */
    body.in-hero .credits {
      color: #bfe8ff !important; /* gentle sky-blue to match site accent but visible */
      text-shadow: 0 1px 0 rgba(0,0,0,0.35);
    }

    /* If dark-theme specifically, use a slightly stronger accent for clarity */
    body[data-theme="dark"].in-hero .credits {
      color: #87CEEB !important;
    }

    /* Mobile: reduce blur amount and shadow for performance and clarity */
    @media (max-width: 650px) {
      header { -webkit-backdrop-filter: blur(4px); backdrop-filter: blur(4px); box-shadow: 0 4px 12px rgba(2,6,23,0.08); }
      body.in-hero header { -webkit-backdrop-filter: blur(5px); backdrop-filter: blur(5px); box-shadow: 0 6px 18px rgba(2,6,23,0.12); }
    }
    /* --- Stronger dark header option when user requested a 'black' background --- */
    /* Apply when hero is visible to make header rectangle clearly stand out */
    body.in-hero header {
      background-color: rgba(0,0,0,0.82) !important;
      color: #ffffff !important;
      box-shadow: 0 12px 42px rgba(0,0,0,0.5) !important;
      -webkit-backdrop-filter: blur(10px) !important;
      backdrop-filter: blur(10px) !important;
    }

    /* Ensure header children remain readable */
    body.in-hero header .title,
    body.in-hero header .subtitle,
    body.in-hero header .credits {
      color: #ffffff !important;
    }

    /* Telegram circle and theme button must stay visible on dark header */
    body.in-hero .telegram-btn { background-color: rgba(255,255,255,0.06) !important; }
    body.in-hero .telegram-btn img { filter: brightness(1.6) contrast(1.0) !important; }
    body.in-hero .theme-switch { border-color: rgba(255,255,255,0.18) !important; color: #fff !important; }

    /* Mobile tweak: use slightly less intense black for small screens */
    @media (max-width: 650px) {
      body.in-hero header { background-color: rgba(0,0,0,0.72) !important; backdrop-filter: blur(6px) !important; }
    }
  </style>

  <script>
    (function(){
      const target = document.getElementById('hero');
      if(!target) return;

      function setState(active){
        document.body.classList.toggle('in-hero', !!active);
      }

      if('IntersectionObserver' in window){
        const io = new IntersectionObserver((entries)=>{
          entries.forEach(e=>{
            // mark active when >=50% of hero is visible
            setState(e.isIntersecting && e.intersectionRatio >= 0.5);
          });
        }, { threshold: [0, 0.25, 0.5, 0.75, 1] });
        io.observe(target);
      } else {
        // fallback: check on scroll/resize
        const check = () => {
          const rect = target.getBoundingClientRect();
          const vh = window.innerHeight || document.documentElement.clientHeight;
          const visible = Math.max(0, Math.min(rect.bottom, vh) - Math.max(rect.top, 0));
          const ratio = rect.height > 0 ? visible / rect.height : 0;
          setState(ratio >= 0.5);
        };
        check();
        window.addEventListener('scroll', throttle(check, 120));
        window.addEventListener('resize', throttle(check, 120));
      }

      function throttle(fn, wait){
        let last = 0;
        return function(...args){
          const now = Date.now();
          if(now - last >= wait){ last = now; fn.apply(this, args); }
        };
      }
    })();
  </script>
  <style>
    /* Hide hero briefly during initial hash-handling to avoid flash/scroll glitches on refresh */
    body.init-hide #hero {
      display: none !important;
    }
  </style>
  <style>
    /* 🌙 DARK MODE STYLE */
    body[data-theme="dark"] {
      background-color: #0e141b;
      background-image: linear-gradient(to bottom right, #1a1f24, #0e141b);
      color: #eaeaea;
      transition: all 0.4s ease;
    }

    body[data-theme="dark"] header,
    body[data-theme="dark"] footer,
    body[data-theme="dark"] .card,
    body[data-theme="dark"] .content,
    body[data-theme="dark"] .container,
    body[data-theme="dark"] #resourceWindow,
    body[data-theme="dark"] .video-player,
    body[data-theme="dark"] .video-item {
      background-color: #1c1f26;
      color: #eaeaea;
      box-shadow: none;
      border-color: #2a2a2a;
    }

    body[data-theme="dark"] h1,
    body[data-theme="dark"] h2,
    body[data-theme="dark"] h3,
    body[data-theme="dark"] p,
    body[data-theme="dark"] a,
    body[data-theme="dark"] span,
    body[data-theme="dark"] label,
    body[data-theme="dark"] .video-title,
    body[data-theme="dark"] #resourceWindowTitle,
    body[data-theme="dark"] #resourceWindowStat {
      color: #ffffff !important;
    }
    
    body[data-theme="dark"] .video-item:hover {
      background-color: #272b35;
      border-color: #383f4a;
    }

    body[data-theme="dark"] a {
      color: #66b3ff;
    }

    body[data-theme="dark"] button,
    body[data-theme="dark"] .btn {
      background-color: #2b313a;
      color: #ffffff;
      border: 1px solid #3a414b;
    }

    body[data-theme="dark"] button:hover,
    body[data-theme="dark"] .btn:hover {
      background-color: #3a414b;
    }

    body[data-theme="dark"] input,
    body[data-theme="dark"] textarea,
    body[data-theme="dark"] select {
      background-color: #2b313a;
      color: #ffffff;
      border: 1px solid #3a414b;
    }

    body[data-theme="dark"] .box,
    body[data-theme="dark"] .section,
    body[data-theme="dark"] .info {
      background-color: #1c1f26;
      color: #eaeaea;
    }

    body[data-theme="dark"] .footer-text {
      color: #b5b5b5;
    }

    /* 🌙 DARK MODE STYLE — CEFR sayt uchun maxsus */

    /* Umumiy */
    body[data-theme="dark"] {
      background-color: #0e141b;
      color: #eaeaea;
      transition: all 0.4s ease;
    }

    /* Header va footer */
    body[data-theme="dark"] header,
    body[data-theme="dark"] footer {
      background-color: #1c1f26;
      color: #eaeaea;
    }

    body[data-theme="dark"] footer a {
      color: #66b3ff !important;
    }

    /* Sarlavha matnlari */
    body[data-theme="dark"] h1,
    body[data-theme="dark"] h2,
    body[data-theme="dark"] h3,
    body[data-theme="dark"] .title,
    body[data-theme="dark"] .subtitle,
    body[data-theme="dark"] .credits {
      color: #ffffff !important;
    }

    /* 📚 Dedication */
    body[data-theme="dark"] .dedication {
      background-color: #1c1f26;
      color: #ffffff;
      border-radius: 10px;
      padding: 12px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
    }

    /* Hero card (asosiy blok) */
    body[data-theme="dark"] .card-hero {
      background-color: rgba(30, 36, 44, 0.15);
      color: #f0f0f0;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      transition: all 0.3s ease;
    }
    
    /* Card ichidagi matnni aniqroq qilish uchun */
    body[data-theme="dark"] .card-hero h1,
    body[data-theme="dark"] .card-hero p {
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }

    /* Tugmalar */
    body[data-theme="dark"] button,
    body[data-theme="dark"] .btn {
      background-color: #2b313a;
      color: #ffffff;
      border: 1px solid #3a414b;
    }

    body[data-theme="dark"] button:hover,
    body[data-theme="dark"] .btn:hover {
      background-color: #3a414b;
    }

    /* Mini kartalar (Bo‘lim 1–11) */
    body[data-theme="dark"] .mini-card,
    body[data-theme="dark"] .phone-top {
      background-color: #1c1f26;
      color: #ffffff;
      border: 1px solid #333a45;
      border-radius: 10px;
      box-shadow: 0 0 6px rgba(0, 0, 0, 0.5);
    }

    body[data-theme="dark"] .mini-card:hover {
      background-color: #2b313a;
    }

    /* Input qidiruv maydoni */
    body[data-theme="dark"] input,
    body[data-theme="dark"] textarea {
      background-color: #2b313a;
      color: #ffffff;
      border: 1px solid #3a414b;
    }

    /* Qo‘shimcha matnlar */
    body[data-theme="dark"] p,
    body[data-theme="dark"] .lead,
    body[data-theme="dark"] .note {
      color: #eaeaea;
    }

    /* Hero preview telefon qismi */
    body[data-theme="dark"] .phone-screen {
      background-color: #131a22;
      border-radius: 15px;
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
    }
  </style>

  </style>

</head>

<style>
  /* Overrides for dynamically-created resource elements (inline styles may apply light backgrounds) */
  body[data-theme="dark"] #resourceWindowGrid > div,
  body[data-theme="dark"] #resourceWindowGrid .card,
  body[data-theme="dark"] #resourceWindowGrid .no-videos {
    background-color: #1c1f26 !important;
    color: #eaeaea !important;
    border-color: #2a2a2a !important;
  }

  /* External-open banner created dynamically */
  body[data-theme="dark"] #externalOpenBanner {
    background: linear-gradient(90deg,#121417,#1b2025) !important;
    color: #eaeaea !important;
    border: 1px solid #2a2a2a !important;
  }

  /* Ensure gallery/resource titles don't stay forced to black by inline style="color:black" */
  body[data-theme="dark"] #resourceGalleryTitle,
  body[data-theme="dark"] #resourceWindowTitle,
  body[data-theme="dark"] #resourceWindowStat {
    color: #eaeaea !important;
  }

  /* Buttons inside resource window */
  body[data-theme="dark"] #resourceWindow .btn,
  body[data-theme="dark"] #resourceWindowGrid .btn {
    background-color: #2b313a !important;
    color: #ffffff !important;
    border-color: #34383d !important;
  }
</style>

<body>
  <div class="bg-anim"></div>
  <div class="wrap">
    <div class="dedication">
      📚 “CEFR reading bo‘limidagi lug‘atlar ushbu saytda joylashtirilgan.” 📚
    </div>

    <header>
      <div class="brand">
        <div class="logo" id="siteLogoWrap">
          <img class="logo-light" src="https://banner2.cleanpng.com/lnd/20250201/ae/37aa9a4e34fbe80da0980fc7d71031.webp" alt="Logo light" style="width:56px;height:56px;object-fit:contain;" />
          <img class="logo-dark" src="https://avatars.githubusercontent.com/u/857719?v=4&s=400" alt="Logo dark" style="width:56px;height:56px;object-fit:contain;" />
        </div>

        <div class="brand-titles">
          <div class="title">CEFR Reading — Lug‘atlar</div>
          <div class="subtitle">Har bir bo‘limda lug‘atlar ko‘rinadi</div>
          <div class="credits">Coder: M.Erkinov &nbsp;|&nbsp; Designer: T.Ramatov &amp; X.Ramatov</div>
        </div>
      </div>
      <nav>
        <!-- About button removed per user request -->

        <a href="https://t.me/CEFRRReading" target="_blank" rel="noopener noreferrer" class="telegram-btn"
          title="Bizning Telegram guruhimiz">
          <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram"
            class="tg-icon" loading="lazy">
        </a>

        <button class="theme-switch" id="themeBtn" title="Rejimni o'zgartirish">
          <span class="material-icons" id="themeIcon">dark_mode</span>
        </button>
      </nav>



    </header>

    <section class="hero" id="hero">
      <div class="hero-left">
        <div class="card-hero raised">
          <h1>Imtihon lug‘atlarini oson o‘rganing</h1>
          <p class="lead" style="font-size:16px; line-height:1.5; color:#555;">
            Kerakli bo‘limni tanlang — siz uchun eng muhim so‘zlar shu yerda.
          </p>

          <button class="enter-btn" id="enterBtn"><span class="material-icons"
              style="font-size:18px">arrow_forward</span>ENTER — Kirish</button>
          <div class="note">Har kuni bir bo‘limni o‘qing, natijani sezilarli o‘zgaradi! 🚀</div>
        </div>

        <!-- Secondary card: identical look, different text -->
        <div class="card-hero card-hero-secondary" id="resourcesCard">
          <h1 id="resTitle">Ingliz tilida qiziqarli va foydali videolar </h1>
          <p class="lead" id="resLead" style="font-size:15px; line-height:1.5; color:#555;">
            Bu yerda siz uchun kulgili, hayotiy va foydali videolar jamlangan.
            Har bir video sizga tilni yanada tabiiyroq o‘rganishga yordam beradi!
          </p>
          <div style="display:flex;gap:12px;align-items:center">
            <button class="enter-btn" id="showResourcesBtn" onclick="openResources()"><span class="material-icons"
                style="font-size:18px">arrow_forward</span> Enter </button>
          </div>




        </div>
      </div>

      <div class="preview">
        <div class="phone" aria-hidden>
          <div class="phone-top mini-card">CEFR — Reading</div>
          <div class="phone-screen">
            <div class="mini-card">Bo'lim 1</div>
            <div class="mini-card">Bo'lim 2</div>
            <div class="mini-card">Bo'lim 3</div>
            <div class="mini-card">Bo'lim 4</div>
            <div class="mini-card">Bo'lim 5</div>
            <div class="mini-card">Bo'lim 6</div>
            <div class="mini-card">Bo'lim 7</div>
            <div class="mini-card">Bo'lim 8</div>
            <div class="mini-card">Bo'lim 9</div>
            <div class="mini-card">Bo'lim 10</div>
            <div class="mini-card">Bo'lim 11</div>
            <div class="mini-card">Bo'lim 12</div>
            <div class="mini-card">Bo'lim 13</div>
            <div class="mini-card">Bo'lim 14</div>
            <div class="mini-card">Bo'lim 15</div>
            <div class="mini-card">Bo'lim 16</div>
            <div class="mini-card">Bo'lim 17</div>
            <div class="mini-card">Bo'lim 18</div>
            <div class="mini-card">Bo'lim 19</div>
            <div class="mini-card">Bo'lim 20</div>
            <div class="mini-card">Bo'lim 21</div>
            <div class="mini-card">Bo'lim 22</div>
            <div class="mini-card">Bo'lim 23</div>
            <div class="mini-card">Bo'lim 24</div>
            <div class="mini-card">Bo'lim 25</div>
            <div class="mini-card">Bo'lim 26</div>
            <div class="mini-card">Bo'lim 27</div>
            <div class="mini-card">Bo'lim 28</div>
            <div class="mini-card">Bo'lim 29</div>
            <div class="mini-card">Bo'lim 30</div>
          </div>
        </div>
      </div>
    </section>

    <main id="sectionsView" style="display:none">
      <h2 style="margin-top:28px;font-size:21px;color:black;">📂 Bo‘limlar</h2>

      <p style="color:var(--muted);font-size:15px;font-weight:500;">Istalgan bo‘limni tanlang — har bir bo‘limda
        lug‘atlar mavjud.</p>
      <div class="sections" id="sectionsGrid"></div>
      <div style="margin-top:18px;display:flex;justify-content:center">
        <button class="btn" onclick="goHome()"><span class="material-icons" style="font-size:18px">arrow_back</span>
          Bosh sahifaga qaytish</button>
      </div>
    </main>

    <!-- Resources full view (second window) -->
    <main id="resourcesView" style="display:none">
      <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;">
        <div>
          <h2 style="margin-top:18px;font-size:21px;color:var(--accent2);">📺 Video resurslar</h2>
          <p style="color:var(--muted);font-size:15px;font-weight:500;margin:0;">Ingliz tilidagi funny va interesting
            videolar.</p>
        </div>
        <div style="display:flex;align-items:center;gap:8px;">
          <button class="btn" id="resourcesBackBtn" onclick="goHome(false)"><span class="material-icons"
              style="font-size:18px">arrow_back</span> Orqaga</button>
        </div>
      </div>
      <div style="height:8px"></div>
      <div class="sections" id="resourceSectionsGrid"></div>
      <div id="resourceGallery" style="display:none;margin-top:18px">
        <h3 id="resourceGalleryTitle" style="font-size:18px;color:black;margin-bottom:8px"></h3>
        <div id="resourceVideoGrid"
          style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px"></div>
        <div style="margin-top:14px;display:flex;justify-content:center"><button class="btn"
            onclick="openResources()">⬅️ Orqaga</button></div>
      </div>
    </main>

    <main id="galleryView" style="display:none">
      <div class="gallery-controls-top">
        <div>
          <h2 id="galleryTitle" style="font-size:21px;color:var(--accent2);margin-bottom:3px;">Bo‘lim</h2>
          <span id="galleryStat"
            style="color:var(--muted);font-size:13px;display:inline-block;margin-bottom:3px;"></span>
        </div>
        <div style="display:flex; gap:7px;">
          <input class="search-bar" id="searchWord" placeholder="So'z qidirish...">
        </div>
      </div>

      <div class="gallery" id="galleryGrid"></div>

      <div class="controls" id="galleryControls">
        <button class="btn" onclick="openSections()"><span class="material-icons"
            style="font-size:18px">arrow_back</span> Orqaga</button>
      </div>
    </main>

  <!-- Full resource window (like lug'at gallery) -->
  <main id="resourceWindow" class="section-card" style="display:none">
      <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:18px;">
        <div>
          <h2 id="resourceWindowTitle" style="font-size:21px;color:var(--accent2);margin:0;">Video bo'limi</h2>
          <div id="resourceWindowStat" style="color:var(--muted);font-size:13px;">Enjoy with it</div>
        </div>
        <div style="display:flex;gap:8px;align-items:center;">
          <button class="btn" id="resourceBackBtn"><span class="material-icons"
              style="font-size:18px">arrow_back</span>Orqaga</button>
        </div>
      </div>
      <div id="resourceWindowGrid"
        style="margin-top:14px; display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:14px"></div>
    </main>

    <footer style="display:flex;flex-direction:column;align-items:center;text-align:center;">
      <div style="width:100%;max-width:900px;">
        <div>© CEFR Reading Vocabulary — Madeing for you</div>
          <div class="footer-links" style="display:flex;flex-direction:column;align-items:center;gap:12px;margin-top:10px;">
        <a class="footer-contact" href="https://t.me/ErkinovTOP" target="_blank" rel="noopener noreferrer"
          style="color:#007BFF; display:inline-flex; align-items:center; gap:8px; width:auto;">
          <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram" style="width:20px;height:20px;display:inline-block;vertical-align:middle;" loading="lazy">
          <span>TAKLIF uchun bog‘laning 💬</span>
        </a>

        <a class="footer-contact" href="https://t.me/ramatovuz" target="_blank" rel="noopener noreferrer"
          style="color:#007BFF; display:inline-flex; align-items:center; gap:8px; width:auto;">
          <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram" style="width:20px;height:20px;display:inline-block;vertical-align:middle;" loading="lazy">
          <span>Your opinion important for us !!! 📩</span>
        </a>
        </div>
      </div>
      <div class="horazm" style="margin-top:12px;">Madeing in Khorezm</div>
    </footer>
  </div>

  <!-- Modal -->
  <div id="modalBg" style="display:none;"></div>

  <style>
    #prevVideoBtn, #nextVideoBtn {
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    #resourceModal:hover #prevVideoBtn,
    #resourceModal:hover #nextVideoBtn,
    .controls-visible #prevVideoBtn,
    .controls-visible #nextVideoBtn {
      opacity: 1;
    }
  </style>

  <script>
    let hideControlsTimeout;

    function hideControls() {
        const modal = document.getElementById('resourceModal');
        const videoControls = document.getElementById('videoControls');
        if (modal && videoControls) {
            modal.classList.remove('controls-visible');
            videoControls.style.opacity = '0';
        }
    }

    function showControls() {
        const modal = document.getElementById('resourceModal');
        const videoControls = document.getElementById('videoControls');
        if (modal && videoControls) {
            modal.classList.add('controls-visible');
            videoControls.style.opacity = '1';
            
            if (hideControlsTimeout) {
                clearTimeout(hideControlsTimeout);
            }
            
            hideControlsTimeout = setTimeout(hideControls, 2000);
        }
    }

    const resourceModal = document.getElementById('resourceModal');
    const prevBtn = document.getElementById('prevVideoBtn');
    const nextBtn = document.getElementById('nextVideoBtn');

    if (resourceModal && prevBtn && nextBtn) {
        let isMouseOverControls = false;
        let lastMouseMoveTime = Date.now();

        resourceModal.addEventListener('mousemove', () => {
            lastMouseMoveTime = Date.now();
            if (!isMouseOverControls) {
                showControls();
            }
        });

        setInterval(() => {
            if (!isMouseOverControls && Date.now() - lastMouseMoveTime > 2000) {
                hideControls();
            }
        }, 1000);

        function onButtonEnter() {
            isMouseOverControls = true;
            if (hideControlsTimeout) {
                clearTimeout(hideControlsTimeout);
            }
        }

        function onButtonLeave() {
            isMouseOverControls = false;
            lastMouseMoveTime = Date.now();
            showControls();
        }

        prevBtn.addEventListener('mouseenter', onButtonEnter);
        prevBtn.addEventListener('mouseleave', onButtonLeave);
        nextBtn.addEventListener('mouseenter', onButtonEnter);
        nextBtn.addEventListener('mouseleave', onButtonLeave);

        resourceModal.addEventListener('mouseleave', () => {
            isMouseOverControls = false;
            hideControls();
        });

        resourceModal.addEventListener('touchstart', () => {
            const modal = document.getElementById('resourceModal');
            if (modal.classList.contains('controls-visible')) {
                hideControls();
            } else {
                showControls();
                setTimeout(hideControls, 3000);
            }
        }, { passive: true });

        resourceModal.addEventListener('click', () => {
            lastMouseMoveTime = Date.now();
            if (!isMouseOverControls) {
                showControls();
            }
        });
    }

    const style = document.createElement('style');
    style.textContent = `
        @media (hover: none) and (pointer: coarse) {
            #prevVideoBtn, #nextVideoBtn {
                padding: 15px;
                width: 60px;
                height: 60px;
            }
            
            #prevVideoBtn .material-icons,
            #nextVideoBtn .material-icons {
                font-size: 30px;
            }

            .video-controls {
                padding-top: env(safe-area-inset-top, 20px) !important;
            }

            .control-btn {
                width: 44px !important;
                height: 44px !important;
                font-size: 22px !important;
            }
        }

        .video-controls {
            background: linear-gradient(to bottom, rgba(0,0,0,0.5), transparent);
        }
    `;
    document.head.appendChild(style);
  </script>

  <!-- Resource modal (yangi oyna) - full screen player -->
  <div id="resourceModalBg"
    style="display:none; position:fixed; inset:0; z-index:4000; align-items:center; justify-content:center; background:rgba(0,0,0,0.85);">
    <div id="resourceModal"
      style="background:transparent; width:100%; height:100vh; max-width:none; max-height:none; overflow:hidden; border-radius:0; padding:0; position:relative; display:flex; align-items:center; justify-content:center;">
      <div id="videoControls" class="video-controls" style="position:absolute;top:0;left:0;right:0;padding:10px;display:flex;justify-content:flex-end;z-index:4010;opacity:0;transition:opacity 0.3s ease;">
        <button onclick="closeResourceModal()" class="control-btn" style="background:rgba(0,0,0,0.5);color:#fff;border:none;font-size:20px;border-radius:50%;width:40px;height:40px;cursor:pointer;display:flex;align-items:center;justify-content:center;margin-left:10px;">✖</button>
        <button class="control-btn volume-btn" style="background:rgba(0,0,0,0.5);color:#fff;border:none;font-size:20px;border-radius:50%;width:40px;height:40px;cursor:pointer;display:flex;align-items:center;justify-content:center;margin-left:10px;">🔊</button>
      </div>
      <button id="prevVideoBtn" onclick="playPreviousVideo()" 
        style="position:absolute;left:20px;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.5);color:#fff;border:none;font-size:20px;border-radius:50%;width:50px;height:50px;cursor:pointer;z-index:4010;display:flex;align-items:center;justify-content:center;">
        <span class="material-icons">arrow_back_ios</span>
      </button>
      <button id="nextVideoBtn" onclick="playNextVideo()"
        style="position:absolute;right:20px;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.5);color:#fff;border:none;font-size:20px;border-radius:50%;width:50px;height:50px;cursor:pointer;z-index:4010;display:flex;align-items:center;justify-content:center;">
        <span class="material-icons">arrow_forward_ios</span>
      </button>
      <div id="resourceModalContent"
        style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;"></div>
    </div>
  </div>

  <script>
    // --- Vocabulary Data ---
    const words = {
      1: [
        "tendencies - moyillik 💭",
        "certain - aniq ✅",
        "impossible - imkonsiz 🚫",
        "endure - chidamoq 💪😤",
        "cope with - uddalamoq 🧠💪",
        "speculates - taxmin qilmoq 🤔📊",
        "warden - nazoratchi 🧍‍♂️🔑",
        "block of - yopmoq 🚧",
        "scraper - mix 🔩",
        "made of - dan yasalgan 🏗️",
        "tend to - ga moyil 📈",
        "domestic - uyga oid 🏠",
        "arrangement - tartib 📋",
        "rectangular - to'g'ri burchakli 🔷",
        "courtyard - hovli 🏡",
        "corrugated - to'lqinsimon 📐",
        "iron - temir 🪨",
        "hatch - podvod 🚪",
        "separate - ajratmoq ✂️",
        "commit - sodir qilmoq 📝",
        "crime - jinoyat 🕵️‍♂️🚔",
        "impulsive - o'ylamay ish qiladigan 😵💥",
        "abusive - haqoratli 😡",
        "rate - daraja 📊",
        "crime-prone - jinoyatga moyil 🚓",
        "precisely - aynan, o'zi 🎯",
        "complacent - ko'ngli to'q 😌",
        "food - ovqat 🍽️",
        "tentative - noaniq 🤷‍♂️",
        "make up - pardoz qilmoq 💄",
        "mind - aql 🧠",
        "influence - ta'sir qilish 🌪️",
        "surrounding - atrofidagi 🌍",
        "develop - rivojlantirish 🌱🚀",
        "promotion - lavozimga ko'tarilish 🏆📈",
        "sweet - shirin 🍬",
        "frustrate - xafa qilmoq 😞",
        "unpleasant - yoqimsiz 😒",
        "aspect - jihati 🔍",
        "competitive - raqobatbardosh 🥇",
        "unpredictable - oldindan aytib bo'lmaydigan 🎲🤯",
        "especially - ayniqsa 🌟",
        "supervised - nazorat qilingan 👀",
        "advise - maslahat 💬",
        "escaped - qochib ketdi 🏃💨",
        "lid - qopqon 🪤",
        "through - orqali ↔️",
        "dropped - tushib ketdi 📉",
        "revolutionary - inqilobiy 🧨",
        "receive - qabul qilish 📩"
      ],
      2: [
        "possession - egalik 👜",
        "deliberately - ataylab 🎯",
        "broadest - eng keng 🌐",
        "circulation - aylanish 🔄",
        "icon - belgi 🖼️",
        "murder - qotillik 🔪😨",
        "good looking - kelishgan 😎",
        "protest - norozilik ✊",
        "turmoil - tartibsizlik 😵‍💫",
        "disruption - to'sqinlik ⛔",
        "rebellion - qo'zg'olon 🪧",
        "legacy - meros 🏛️",
        "lasts - davom etish ⏳",
        "indigenous - mahalliy 🪶",
        "financial - moliyaviy 💰",
        "provide - ta'minlamoq 🛒",
        "relevant - aloqador 🔗",
        "chime - jarang 🔔",
        "regularly - doimiy ravishda 📆",
        "sticky - yopishqoq 🍯",
        "annoy - jahlini chiqarmoq 😡",
        "depend on - suyanmoq 🤝",
        "appear - paydo bo'lmoq 👀",
        "stamp - marka 📮",
        "spy - josus 🕵️‍♂️",
        "impact - ta'sir 💥",
        "appreciated - qadrlandi 🙏",
        "income - daromad 💵",
        "less than - dan kam 📉",
        "disposable - bir martalik 🧻",
        "prevent - oldini olmoq 🚫",
        "excessive - ortiqcha ➕😬",
        "rejection - rad qilish ❌",
        "over consumption - ko'p iste'mol 🍔🍟",
        "single beret - rassom shlyapasi 🎨👒",
        "represent spread of - tarqalmoq 🌍",
        "represent - qatnashmoq 🙋‍♂️",
        "vital - muhim ❤️",
        "garbage - axlat 🗑️",
        "doorstep - ostona 🚪",
        "warning - ogohlantirish ⚠️",
        "behavior - xulq atvor 🤔",
        "observed - kuzatdi 🔭",
        "explore - kashf etmoq 🧭",
        "disease - kasallik 🤒",
        "declined - rad qilindi 🚷",
        "peanut - yer yong'oq 🥜",
        "transmitter - uzatuvchi moslama 📡",
        "brain - miya 🧠",
        "death - o'lim ⚰️",
        "decade - 10 yillik 🗓️",
        "three decades - 30 yillik 📅"
      ],
      3: [
        "conduct - o'tkazmoq ⚡",
        "potentially - ehtimol 🤔",
        "devastating - vayron qiluvchi 💣",
        "cash flowing - pul oqimi 💵💧",
        "avail - foyda ✅",
        "isolating - ajratmoq 🚷",
        "isolate - ajratmoq 🧍‍♂️➡️🚪",
        "source - manba 🌊",
        "paranoid - vasvasa 😰",
        "greed - ochko'zlik 🤑",
        "gaining - yutish 🏆",
        "drastically - keskin ⚔️",
        "wisely - donolik bilan 🦉",
        "express - ifodalamoq 💬",
        "dismantle - ajratmoq 🔧",
        "litter - axlat 🗑️",
        "charter - ijara 📜",
        "bemoaned - afsuslandi 😞",
        "enduring - chidamli 💪",
        "licence - litsenziya 🪪",
        "slight - biroz ⚖️",
        "rushed - shoshildi 🏃‍♂️💨",
        "determine - aniqlamoq 🔍",
        "speculation - taxmin 🤨",
        "editorial - muharrir maqolasi 📰",
        "nonsense - bemanilik 🤪",
        "invokes - tilga oldi 🗣️",
        "denied - rad etdi 🚫",
        "conservative - ehtiyotkor 🧓",
        "rejected - rad qilindi ❌",
        "audience - tinglovchilar 👥",
        "emulate - taqlid qilmoq 🪞",
        "prime - asosiy ⭐",
        "setting out - yo'lga chiqmoq 🧳",
        "funding - mablag' ajratish 💰",
        "hole - chuqurlik 🕳️",
        "go through - o'tmoq, boshdan kechirmoq 🌊",
        "ran down - bosib ketmoq 🚗💨",
        "refused - rad qilmoq 🙅‍♂️",
        "came out - chiqmoq 🚪➡️",
        "apart - ajratib 🔩",
        "effort - harakat 💪",
        "crawled - emaklamoq 🐍",
        "attend - qatnashmoq 🎓",
        "description - tasvir 🖊️",
        "suitable - mos ✅",
        "attractive - jolib 😍",
        "scenery - manzara 🌄",
        "fit in - mos tushmoq 🧩",
        "continent - qit'a 🌍",
        "wealth - boylik 💎",
        "management - boshqaruv 🧑‍💼"
      ],
      4: [
        "issue - masala 📄",
        "cualificate - sertifikat 🎓",
        "bus tour - avtobus safari 🚌",
        "involving - o'z ichiga oluvchi 🔁",
        "chewing gum - saqich 🍬",
        "executive - rahbar 👔",
        "manage to - uddalamoq 💪",
        "lawyer - huquqshunos ⚖️",
        "portable - ko'tarib yuriladigan 🎒",
        "predictable - bashorat qilinadigan 🔮",
        "aspect - jihati 🔍",
        "complicate - murakkablashtirmoq 🧩",
        "recognise - tanib olmoq 👀",
        "capitalise - foyda ko‘rmoq 💰",
        "financially - moliyaviy jihatdan 💵",
        "aggressive - tajovuzkor 😡",
        "subscription - obuna 📰",
        "fully - to'liq ✅",
        "commercial - savdo-sotiqqa oid 🏪",
        "rainfall - yog‘ingarchilik 🌧️",
        "breeze - yengil shamol 🌬️",
        "flooding - suv toshqini 🌊",
        "indirectly - bilvosita ↩️",
        "paradox - g‘alati holat 😕",
        "prevent - oldini olmoq 🚫",
        "prevalent - keng tarqalgan 🌍",
        "shrub - buta 🌿",
        "convey - yetkazmoq 📤",
        "vulnerable - zaif 🫣",
        "drought - qurg‘oqchilik ☀️",
        "according to - -ga ko‘ra 📖",
        "distance - masofa 📏",
        "case - holat 📦",
        "seismic - seysmik 🌋",
        "pursuit - ta‘qib 🏃‍♂️💨",
        "misery - azob 😢",
        "affluent - badavlat 💎",
        "concerns - xavotirlar 😟",
        "armed - qurollangan 🔫",
        "anchor - langar ⚓",
        "jellyfish - meduza 🪼",
        "glue - kley 🧴",
        "ultrasonic - ultratovush 🔊",
        "sting - chaqmoq 🐝",
        "antivenin - zaharga qarshi dori 💉",
        "massive - ulkan 🏗️",
        "pain killer - og‘riq qoldiruvchi 💊",
        "victim - qurbon 🩸",
        "underestimated - past baholangan 📉",
        "bruised - ko‘karib ketgan 🤕",
        "settlement - kelishuv 🤝",
        "fortress - qal‘a 🏰",
        "huacas - haykallar 🗿",
        "monuments - yodgorliklar 🏛️"
      ],
      5: [
        "eroded - yemirilgan 🪨💨",
        "hyperpolyglots - ko‘p tilli odam 🗣️🌍",
        "disposal - yo‘q qilish 🗑️",
        "I guess - menimcha 🤔",
        "tight - qattiq 🧱",
        "striped - chiziqli 🦓",
        "initial - dastlabki 🅰️",
        "forecast - bashorat 🌦️🔮",
        "award - mukofot 🏆",
        "follow - ergashmoq 👣",
        "spreadsheet - elektron jadval 📊",
        "figure out - tushunib yetmoq 💡",
        "protect - himoya qilmoq 🛡️",
        "extreme - ekstremal 🧗‍♂️",
        "cracking - yorilish 💥",
        "below - pastda ⬇️",
        "compares - taqqoslaydi ⚖️",
        "purchase - xarid qilmoq 🛒",
        "tough - qattiq 💪",
        "ecosystem - ekotizim 🌱🌍",
        "variety - xilma-xillik 🍇🌈",
        "basket - savat 🧺",
        "preventing - oldini olish 🚫",
        "lied about - haqida aldamoq 🤥",
        "issue - ma'lum qilmoq 📢",
        "warning - ogohlantirish ⚠️",
        "CV - tarjimai hol 📄",
        "resume - rezyume 🧾",
        "bridge - ko‘prik 🌉",
        "personalized - shaxsiylashtirilgan 🪪",
        "individualized - individuallashtirilgan 👤",
        "sentences - jumlalar ✍️",
        "descending - pastga tushish ⬇️📉",
        "particularly - ayniqsa ✨",
        "several - bir nechta 🔢",
        "slope - yonbag‘ir 🏔️",
        "set of - to‘plam 📦",
        "landing - qo‘nish 🛬",
        "glad - xursand 😊",
        "educate - ta'lim bermoq 📚",
        "equipments - uskunalar ⚙️",
        "success - muvaffaqiyat 🥇",
        "gap - bo‘shliq 🕳️",
        "current - joriy 🔄",
        "interpersonal - odamlararo 🤝",
        "suite - mos 🛋️",
        "past - o‘tmish 🕰️",
        "female - ayol 👩"
      ],
      6: [
        "pavements - yo‘laklar 🚶‍♂️🛣️",
        "heralded - e'lon qilingan 📢",
        "miraculous - mo‘jizaviy ✨😲",
        "stock - zaxira 📦",
        "notorious - yomon nom chiqargan 😈",
        "leather - teri 👞",
        "reservoir - suv ombori 💧🏞️",
        "cartridge - patron, siyoh idishi 🖋️🔫",
        "rotating - aylanmoq 🔁",
        "event - voqea 🎉",
        "demanding - talabchan 😤",
        "fellow - hamkasb 👨‍💼",
        "management - boshqaruv 🧑‍💼",
        "informed - xabardor 🧠📩",
        "deals - bitimlar 🤝",
        "facilities - qulayliklar 🏢",
        "impressed - ta'sirlangan 😮",
        "the reason for - ning sababi 🤔",
        "pollution - ifloslanish 🏭💨",
        "dries - quritadi ☀️",
        "global - dunyo 🌍",
        "ineligible - huquqsiz 🚫",
        "moisture - namlik 💧",
        "scattered - sochilgan 🌬️",
        "desiccated - quritilgan 🏜️",
        "transportable - tashishga yaroqli 🚚",
        "measure - o‘lchamoq 📏",
        "aim - maqsad 🎯",
        "reveal - oshkor qilmoq 🔓",
        "existence - mavjudlik 🌱",
        "heaven - jannat ☁️😇",
        "mysteries - sirlari 🕵️‍♀️✨",
        "liquid - suyuqlik 💦",
        "observatory - rasadxona 🔭",
        "land - yer 🌍",
        "intense - shiddatli 🔥",
        "vegetation - o‘simliklar 🌿",
        "optical - optik 👓",
        "gather - yig‘moq 🧺",
        "gender - jins 🚻",
        "bathed - o‘ralgan 🛁",
        "faults - kamchiliklar ⚠️",
        "clogged - tiqilib qolgan 🚫💧",
        "smudges - dog‘lar 🖐️🖤",
        "dried - qurigan 🌵",
        "construct - qurmoq 🏗️",
        "grant - ruxsat bermoq ✅",
        "mobility - ko‘chish 🚶‍♀️",
        "move - harakatlanmoq 🏃‍♂️",
        "rate - daraja 📈",
        "level - daraja 📊",
        "turnover - aylanma 🔄💼",
        "quite - juda 😌",
        "annual - yillik 📅",
        "retention - saqlab qolish 🧠",
        "incentive - rag‘bat 🎁💪"
      ],
      7: [
        "boreal - shimoliy ❄️",
        "stretching - cho‘zilgan ↔️",
        "previously realised - ilgari ⏮️",
        "canopies - tepaliklar 🌳",
        "marine - dengiz 🌊",
        "species - turlar 🐾",
        "seaweeds - suvo‘tlar 🌿",
        "capturing - ushlash 🎣",
        "solar - quyosh ☀️",
        "energy - energiya ⚡",
        "carbon dioxide - karbonat 🏭",
        "among - orasida 🔹",
        "deep - chuqur 🌊",
        "waves - to‘lqinlar 🌊",
        "patterns - naqshlar 🎨",
        "trapped - tutilgan 🪤",
        "emitted - chiqarilgan 💨",
        "expanses - kengliklar 🏞️",
        "eastern - sharqiy 🌅",
        "storing - saqlash 💾",
        "majority - ko‘pchilik 👥",
        "coastline - sohil 🏖️",
        "cover - qoplamoq 🛡️",
        "estimate - taxmin 📏",
        "measure - o‘lchamoq 📏",
        "satellite - yo‘ldosh 🛰️",
        "productive - samarali 💪",
        "intensely - kuchli 🔥",
        "wheat - bug‘doy 🌾",
        "rice - guruch 🍚",
        "corn - makkajo‘xori 🌽",
        "highest - engyuqori 🏔️",
        "regions - hududlar 🗺️",
        "nutrient-rich - boy 🥗",
        "average - o‘rtacha ⚖️",
        "biomass - biomassa 🌱",
        "encouraging - ruhlantiruvchi 🌟",
        "land - yer 🌍",
        "pull - tortmoq 🤲",
        "intense - kuchli 🔥",
        "naturally - tabiiy 🌿",
        "superbugs - bakteriyalar 🦠",
        "reduce - kamaytir ➖",
        "amount - miqdor 📊",
        "risk - xavf ⚠️",
        "people - odamlar 🧑‍🤝‍🧑",
        "meat - go‘sht 🍖",
        "signposted - belgili 🪧",
        "village - qishloq 🏘️",
        "popular - mashhur ⭐",
        "require - talab 📝",
        "directions - yo‘nalishlar 🧭",
        "steeply - tik ⛰️",
        "circular - aylana 🔄",
        "parkland - bog‘ 🌳",
        "surrounding - atrof 🌿",
        "available - mavjud ✅",
        "leisurely - sekin 🐢",
        "cottages - uychalar 🏡",
        "towards - tomon ➡️",
        "superb - a’lo 🌟"
      ],
      8: [
        "abstract - mavhum 📚",
        "access - kirish, foydalanish 💡",
        "accumulate - to'plash ⚙️",
        "acknowledge - tan olish 🌍",
        "acquire - egallamoq ✅",
        "adapt - moslashtirmoq ❗",
        "adjust - moslashtirmoq 🔍",
        "administer - boshqarmoq 💰",
        "advocate - qo'llab-quvvatlamoq 📝",
        "allocate - ajratmoq 🔒",
        "ambiguous - noaniq 🚀",
        "anticipate - kutmoq 🧭",
        "appreciate - qadrlamoq 📈",
        "assumption - taxmin 📉",
        "authority - hokimiyat 🔧",
        "automate - avtomatlashtirmoq 🎯",
        "benefit - foyda 🧠",
        "cease - to'xtatmoq 🗂️",
        "clarify - aniqlashtirmoq 🧾",
        "coincide - mos kelmoq 🔗",
        "collapse - qulash 🛠️",
        "colleague - hamkasb 📌",
        "commodity - mahsulot 🧩",
        "complement - to'ldirmoq 🔬",
        "comprehensive - keng qamrovli 🏷️",
        "confer - taqdim etmoq 📎",
        "confirm - tasdiqlamoq ⚖️",
        "consistent - izchil 🔄",
        "constitute - tashkil etmoq 🔁",
        "constrain - cheklamoq 🔔",
        "consultant - konsul'tant 🌱",
      ],
      9: [
        "contemporary - zamonaviy 🌟",
        "contradict - qarshi chiqmoq 📚",
        "controversy - munozara 💡",
        "conventional - an'anaviy ⚙️",
        "correlate - bog'liq bo'lmoq 🌍",
        "criteria - me'yorlar ✅",
        "crucial - nihoyatda muhim ❗",
        "currency - valyuta 💰",
        "denote - anglatmoq 🔍",
        "derive - kelib chiqmoq 🧭",
        "detect - aniqlamoq 🔎",
        "devote - bag'ishlamoq 💖",
        "dimension - o'lcham 📐",
        "diminish - kamaytirmoq ➖",
        "distort - buzmoq 🔧",
        "diverse - xilma-xil 🌈",
        "dominant - ustun 🏆",
        "draft - qoralama 📝",
        "enhance - yaxshilamoq ✨",
        "ensure - ta'minlamoq 🔒",
        "entail - o'z ichiga olmoq ↪️",
        "establish - o'rnatmoq 🏗️",
        "evaluate - baholamoq 📊",
        "evolve - rivojlanmoq 🌱",
        "exceed - oshib ketmoq ⬆️",
        "exhibit - namoyish qilmoq 🖼️",
        "expansion - kengayish ➕",
        "expertise - mutaxassislik 🧠",
        "explicit - aniq 📣",
        "facilitate - yengillashtirmoq 🛠️",
        "forthcoming - yaqinlashib kelayotgan 📅",
      ],
      10: [
        "framework - tuzilma 🧩",
        "fundamental - asosiy 🏛️",
        "furthermore - bundan tashqari ➕",
        "generate - yaratmoq ⚡",
        "guideline - yo'riqnoma 📘",
        "hence - shuning uchun 🔁",
        "hypothesis - gipoteza 🧪",
        "identical - bir xil 🔍",
        "implement - amalga oshirmoq 🔧",
        "implicate - aloqadorligini ko'rsatmoq 🔗",
        "implicit - bilvosita 🌀",
        "incorporate - qo'shmoq ➕",
        "index - indeks, ro'yxat 📑",
        "inherent - tabiiy, tug'ma 🌱",
        "inhibit - to'xtatmoq 🚫",
        "initiate - boshlamoq ▶️",
        "insight - tushuncha 🧠",
        "integrate - birlashtirmoq 🔀",
        "integral - ajralmas 🧩",
        "integrity - halollik ⚖️",
        "justify - asoslash 📝",
        "label - yorliq 🏷️",
        "levy - soliq qo'yish 💸",
        "likewise - xuddi shunday ↔️",
        "maintain - saqlab qolmoq 🔧",
        "maximize - maksimal qilish 📈",
        "minimize - kamaytirish 📉",
        "migrate - ko'chib o'tmoq 🛫",
        "modify - o'zgartirmoq 🔁",
        "monitor - nazorat qilmoq 👀",
        "motive - motiv 🔥",
      ],
      11: [
        "mutual - o'zaro 🤝",
        "nonetheless - shunga qaramay ⚖️",
        "objective - maqsad / obyektiv 🎯",
        "obscure - noaniq, g'ayritabiiy 🌫️",
        "ongoing - davom etayotgan 🔄",
        "option - variant 🔘",
        "orientation - yo'nalish 🧭",
        "outcome - natija 🏁",
        "outline - qisqacha reja 🗂️",
        "overlap - qoplanish 🔁",
        "parameter - parametr 📐",
        "perceive - sezmoq, tushunmoq 👁️",
        "perform - bajarish 🎭",
        "priority - ustuvorlik 1️⃣",
        "rational - mantiqiy 🤔",
        "reinforce - mustahkamlash 🛡️",
        "reluctance - istamsizlik 😕",
        "remove - olib tashlamoq ✂️",
        "render - taqdim etmoq / aylantirmoq 🔁",
        "require - talab qilmoq 📋",
        "resident - yashovchi 🏠",
        "resolution - hal qilish / qaror ✅",
        "restore - tiklash 🔧",
        "restrict - cheklamoq 🚫",
        "revenue - daromad 💵",
        "revise - qayta ko'rib chiqmoq ✍️",
        "rigid - moslashmaydigan 🧱",
        "sector - soha 🏭",
        "sequence - ketma-ketlik 1→2→3 🔢",
        "shift - o'zgarish 🔄",
      ],
      12: [
        "simulate - taqlid qilmoq 🎭",
        "sole - yagona 🦅",
        "somewhat - biroz 🤏",
        "specific - aniq 🎯",
        "sphere - soha 🌐",
        "stable - barqaror ⚖️",
        "status - holat 📊",
        "straightforward - sodda, tushunarli ➡️",
        "subsequent - keyingi ⏭️",
        "subsidy - davlat yordami 💸",
        "substitute - o'rinbosar 🔁",
        "successor - voris 👑",
        "sufficient - yetarli ✅",
        "suspend - vaqtincha to'xtatmoq ⏸️",
        "sustain - davom ettirmoq 🌿",
        "tactic - taktika ♟️",
        "target - maqsad 🎯",
        "technical - texnik 🛠️",
        "thereby - shunday qilib 🔄",
        "thesis - ilmiy ish 📚",
        "trace - iz / aniqlamoq 🕵️",
        "transfer - o'tkazmoq 🔁",
        "transform - o'zgartirmoq 🔄",
        "transit - o'tish 🚏",
        "trend - trend 📈",
        "trigger - sabab bo'lmoq ⚠️",
        "ultimate - oxirgi / asosiy 🏁",
        "undertake - zimmasiga olmoq 🛠️",
        "undertake - bajarish (takrorlandi emas, lekin sinonim) 🔧",
        "valid - yaroqli, haqiqiy ✅",
        "variable - o'zgaruvchi 🔀",
        "violate - buzmoq 🚫",
        "visible - ko'rinarli 👀",
        "whereas - holbuki ↔️",
        "widespread - keng tarqalgan 🌍",
        "yield - berish, hosil bermoq 🌾",
      ],
      13: [
        "acknowledge - tan olmoq 🤝",
        "broad - keng 🏞️",
        "capture - ushlamoq 🎣",
        "decline - kamaymoq 📉",
        "emerge - paydo bo‘lmoq 🌅",
        "focus - e’tibor qaratmoq 🎯",
        "govern - boshqarmoq 🧑‍⚖️",
        "highlight - ajratmoq ✨",
        "impact - ta’sir 💥",
        "justify - asoslamoq 🧾",
        "keen - ishtiyoqmand 🔥",
        "label - yorliq qo‘ymoq 🏷️",
        "maintain - saqlamoq 🛠️",
        "notion - tushuncha 💭",
        "obtain - qo‘lga kiritmoq 🏆",
        "predict - oldindan aytmoq 🔮",
        "quote - iqtibos keltirmoq 🗯️",
        "rapid - tez ⚡",
        "scheme - reja 📘",
        "tend - moyil bo‘lmoq 📈",
        "ultimate - yakuniy 🏁",
        "variety - xilma-xillik 🎨",
        "widespread - keng tarqalgan 🌍",
        "youth - yoshlik 👦",
        "zone - hudud 🗺️",
        "analyze - tahlil qilmoq 🧠",
        "balance - muvozanat ⚖️",
        "contribute - hissa qo‘shmoq 💪",
        "demonstrate - namoyish qilmoq 🖼️",
        "establish - o‘rnatmoq 🏗️",
        "fundamental - asosiy 🧱",
        "illustrate - misol keltirmoq 📚",
        "interpret - izohlamoq 🗣️",
        "logic - mantiq 🤓",
        "measure - o‘lchamoq 📐",
        "network - tarmoq 🌐",
        "objective - maqsad 🎯",
        "policy - siyosat 🏛️",
        "rely - suyanmoq 🤝",
        "stable - barqaror ⚖️",
        "trend - yo‘nalish 📊",
        "visible - ko‘rinadigan 👀",
        "acquire - egallamoq 📚",
        "benefit - foyda 💡",
        "challenge - sinov 💪",
        "dominate - ustun bo‘lmoq 👑",
        "emphasis - urg‘u 🔊",
        "feature - xususiyat 📋",
        "global - global 🌍",
        "habit - odat 🔁",
        "investigate - tekshirmoq 🔎"
      ],
      14: [
        "affect - ta’sir qilmoq 🌪️",
        "brief - qisqa 🗒️",
        "concept - tushuncha 💭",
        "diverse - xilma-xil 🌈",
        "ensure - ta’minlamoq 🛡️",
        "furthermore - bundan tashqari ➕",
        "generate - hosil qilmoq ⚡",
        "highlight - ajratmoq ✨",
        "indicate - ko‘rsatmoq 👆",
        "justify - asoslamoq 🧾",
        "knowledge - bilim 📘",
        "link - bog‘lamoq 🔗",
        "majority - ko‘pchilik 👥",
        "notable - e’tiborga loyiq 🌟",
        "outcome - natija 🏁",
        "perspective - nuqtai nazar 👓",
        "qualify - malaka olmoq 🎓",
        "react - javob qaytarmoq ⚡",
        "region - mintaqa 🗺️",
        "sequence - ketma-ketlik 🔢",
        "sufficient - yetarli ✅",
        "trend - yo‘nalish 📊",
        "utilize - foydalanmoq ⚙️",
        "vary - farq qilmoq ↔️",
        "worthwhile - arzigulik 💎",
        "attitude - munosabat 🧠",
        "belief - ishonch 🙏",
        "context - kontekst 📄",
        "decline - kamaymoq 📉",
        "estimate - taxmin qilmoq 📏",
        "facility - imkoniyat 🏫",
        "grateful - minnatdor 🙏",
        "hypothesis - taxmin 🧪",
        "imply - nazarda tutmoq 💭",
        "maintain - saqlamoq 🛠️",
        "neutral - betaraf ⚪",
        "objective - maqsad 🎯",
        "prior - oldingi ⏮️",
        "range - doira 📊",
        "respond - javob bermoq 💬",
        "revenue - daromad 💵",
        "structure - tuzilma 🧩",
        "theory - nazariya 📖",
        "unique - noyob 🦄",
        "visual - ko‘rinishli 👁️",
        "welfare - farovonlik 🏡",
        "yield - hosil bermoq 🌾",
        "zone - hudud 🗺️",
        "adapt - moslashmoq 🌿",
        "clarify - aniqlashtirmoq 💬"
      ],
      15: [
        "accurate - aniq 🎯",
        "balance - muvozanat ⚖️",
        "contrast - farq 🆚",
        "diverse - xilma-xil 🌈",
        "efficient - samarali ⚙️",
        "factor - omil ⚙️",
        "govern - boshqarmoq 🧑‍⚖️",
        "highlight - ajratmoq ✨",
        "impact - ta’sir 💥",
        "justify - asoslamoq 🧾",
        "keen - ishtiyoqmand 🔥",
        "logical - mantiqiy 🤓",
        "maintain - saqlamoq 🛠️",
        "narrative - hikoya 📖",
        "objective - maqsad 🎯",
        "proportion - nisbat 📏",
        "quote - iqtibos 🗯️",
        "rapid - tez ⚡",
        "relevant - muhim 📎",
        "significant - ahamiyatli 🌟",
        "theme - mavzu 🗂️",
        "trend - yo‘nalish 📊",
        "valid - haqiqiy ✅",
        "vital - muhim ❤️",
        "whereas - holbuki 🔁",
        "alternative - muqobil 🔄",
        "broaden - kengaytirmoq 📈",
        "compensate - o‘rnini to‘ldirmoq 💵",
        "determine - aniqlamoq 🎯",
        "evaluate - baholamoq 📊",
        "focus - e’tibor 🎯",
        "generate - hosil qilmoq ⚡",
        "hypothesis - taxmin 🧪",
        "ignore - e’tibor bermaslik 🙈",
        "interpret - izohlamoq 🗣️",
        "manual - qo‘lda bajariladigan ✋",
        "notion - tushuncha 💭",
        "outcome - natija 🏁",
        "perspective - qarash 👓",
        "ratio - nisbat 📐",
        "remarkable - ajralib turuvchi 🌟",
        "restrict - cheklamoq 🚫",
        "shift - o‘zgarish 🔁",
        "specific - aniq 🎯",
        "sufficient - yetarli ✅",
        "temporary - vaqtinchalik ⏳",
        "transfer - o‘tkazmoq 🔁",
        "ultimate - yakuniy 🏁",
        "widespread - keng tarqalgan 🌍",
        "yield - natija bermoq 🌾"
      ],
      16: [
        "acquire - egallamoq 📚",
        "beneficial - foydali 💡",
        "concern - xavotir 😟",
        "distribute - tarqatmoq 📦",
        "emphasize - urg‘u bermoq 🔊",
        "fund - mablag‘ 💰",
        "generate - hosil qilmoq ⚡",
        "highlight - ajratmoq ✨",
        "influence - ta’sir qilmoq 🌪️",
        "justify - asoslamoq 🧾",
        "knowledge - bilim 📘",
        "limit - cheklamoq 🚫",
        "maintain - saqlamoq 🛠️",
        "notion - tushuncha 💭",
        "outcome - natija 🏁",
        "proceed - davom ettirmoq 🔁",
        "qualify - malaka olmoq 🎓",
        "range - doira 📊",
        "relate - bog‘lamoq 🔗",
        "rely - suyanmoq 🤝",
        "shift - o‘zgarish 🔁",
        "sustain - davom ettirmoq 🔄",
        "trend - yo‘nalish 📊",
        "ultimate - yakuniy 🏁",
        "variable - o‘zgaruvchi 🔀",
        "whereas - holbuki 🔁",
        "yield - natija bermoq 🌾",
        "abstract - mavhum 💭",
        "broaden - kengaytirmoq 📈",
        "context - kontekst 📄",
        "derive - kelib chiqmoq 🔗",
        "evaluate - baholamoq 📊",
        "facilitate - yengillashtirmoq 🤝",
        "guarantee - kafolat berish 🧾",
        "implement - joriy qilmoq 🔧",
        "interpret - izohlamoq 🗣️",
        "logical - mantiqiy 🤓",
        "manual - qo‘lda bajariladigan ✋",
        "occur - sodir bo‘lmoq 💥",
        "prior - oldingi ⏮️",
        "reflect - aks ettirmoq 🪞",
        "respond - javob bermoq 💬",
        "section - bo‘lim 📑",
        "significant - muhim 🌟",
        "specific - aniq 🎯",
        "structure - tuzilma 🧩",
        "temporary - vaqtinchalik ⏳",
        "transfer - o‘tkazmoq 🔁",
        "valid - haqiqiy ✅",
        "visual - ko‘rinishli 👁️",
        "worthwhile - arzigulik 💎"
      ],
      17: [
        "access - kirish 🚪",
        "behaviour - xulq-atvor 🤵",
        "complex - murakkab 🧩",
        "decline - kamaymoq 📉",
        "emerge - paydo bo‘lmoq 🌅",
        "feature - xususiyat 📋",
        "goal - maqsad 🎯",
        "highlight - ajratmoq ✨",
        "impact - ta’sir 💥",
        "justify - asoslamoq 🧾",
        "labour - mehnat 👷‍♂️",
        "migrate - ko‘chib ketmoq 🛫",
        "network - tarmoq 🌐",
        "obtain - qo‘lga kiritmoq 🏆",
        "perspective - qarash 👓",
        "quote - iqtibos keltirmoq 🗯️",
        "react - javob qaytarmoq ⚡",
        "recover - tiklanmoq 💪",
        "relevant - dolzarb 📎",
        "scheme - reja 📘",
        "sequence - ketma-ketlik 🔢",
        "significance - ahamiyat 🌟",
        "statistic - statistika 📊",
        "substantial - sezilarli 📈",
        "sufficient - yetarli ✅",
        "task - vazifa 📄",
        "trend - yo‘nalish 📊",
        "unique - noyob 🦄",
        "valid - haqiqiy ✅",
        "voluntary - ixtiyoriy 🤲",
        "widespread - keng tarqalgan 🌍",
        "yield - hosil bermoq 🌾",
        "adapt - moslashmoq 🌿",
        "balance - muvozanat ⚖️",
        "construct - qurmoq 🏗️",
        "derive - kelib chiqmoq 🔗",
        "efficient - samarali ⚙️",
        "facility - imkoniyat 🏫",
        "generation - avlod 👨‍👩‍👧‍👦",
        "hypothesis - taxmin 🧪",
        "implement - joriy qilmoq 🔧",
        "interpret - izohlamoq 🗣️",
        "maintain - saqlamoq 🛠️",
        "motivate - ruhlantirmoq 💪",
        "objective - maqsad 🎯",
        "policy - siyosat 🏛️",
        "ratio - nisbat 📐",
        "region - mintaqa 🗺️",
        "source - manba 💧",
        "structure - tuzilma 🧱"
      ],
      18: [
        "accurate - aniq 🎯",
        "benefit - foyda 💡",
        "contrast - farq 🆚",
        "determine - aniqlamoq 🎯",
        "expand - kengaymoq ➕",
        "focus - e’tibor qaratmoq 🎯",
        "generate - hosil qilmoq ⚡",
        "highlight - ajratmoq ✨",
        "imply - nazarda tutmoq 💭",
        "justify - asoslamoq 🧾",
        "keen - ishtiyoqmand 🔥",
        "logical - mantiqiy 🤓",
        "maintain - saqlamoq 🛠️",
        "notion - tushuncha 💭",
        "overall - umuman olganda 🌐",
        "perceive - sezmoq 👁️",
        "qualify - malaka olmoq 🎓",
        "ratio - nisbat 📏",
        "relevant - muhim 📎",
        "sequence - ketma-ketlik 🔢",
        "significant - ahamiyatli 🌟",
        "specific - aniq 🎯",
        "strategy - strategiya ♟️",
        "sufficient - yetarli ✅",
        "trend - yo‘nalish 📊",
        "unique - noyob 🦄",
        "visible - ko‘rinadigan 👀",
        "welfare - farovonlik 🏡",
        "youth - yoshlik 👦",
        "zone - hudud 🗺️",
        "adapt - moslashmoq 🌿",
        "behave - o‘zini tutmoq 🤵",
        "complexity - murakkablik 🧩",
        "debate - bahs 🗣️",
        "evaluate - baholamoq 📊",
        "factor - omil ⚙️",
        "goal - maqsad 🎯",
        "hypothesis - taxmin 🧪",
        "interpret - izohlamoq 🗣️",
        "motivate - rag‘batlantirmoq 🎯",
        "objective - maqsad 🎯",
        "perspective - qarash 👓",
        "respond - javob bermoq 💬",
        "structure - tuzilma 🧩",
        "theory - nazariya 📖",
        "ultimate - yakuniy 🏁",
        "variable - o‘zgaruvchi 🔀",
        "worthwhile - arzigulik 💎",
        "yield - natija bermoq 🌾"
      ],
      19: [
        "acquire - egallamoq 📘",
        "balance - muvozanat ⚖️",
        "clarify - aniqlashtirmoq 💬",
        "define - aniqlamoq 📘",
        "emerge - paydo bo‘lmoq 🌅",
        "feature - xususiyat 📋",
        "govern - boshqarmoq 🧑‍⚖️",
        "highlight - ajratmoq ✨",
        "impact - ta’sir 💥",
        "justify - asoslamoq 🧾",
        "knowledge - bilim 📗",
        "link - bog‘lamoq 🔗",
        "maintain - saqlamoq 🛠️",
        "notion - tushuncha 💭",
        "overall - umumiy 🌐",
        "perspective - qarash 👓",
        "range - doira 📊",
        "react - javob bermoq ⚡",
        "relevant - muhim 📎",
        "sequence - ketma-ketlik 🔢",
        "significant - ahamiyatli 🌟",
        "structure - tuzilma 🧩",
        "trend - yo‘nalish 📊",
        "unique - noyob 🦄",
        "variable - o‘zgaruvchi 🔀",
        "worthwhile - arzigulik 💎",
        "yield - hosil bermoq 🌾",
        "access - kirish 🚪",
        "brief - qisqa 🗒️",
        "contrast - farq 🆚",
        "derive - kelib chiqmoq 🔗",
        "efficient - samarali ⚙️",
        "flexible - moslashuvchan 🤸‍♂️",
        "generate - hosil qilmoq ⚡",
        "highlight - urg‘ulamoq ✨",
        "interpret - izohlamoq 🗣️",
        "manual - qo‘lda bajariladigan ✋",
        "objective - maqsad 🎯",
        "policy - siyosat 🏛️",
        "ratio - nisbat 📐",
        "rely - suyanmoq 🤝",
        "scope - qamrov 📈",
        "stable - barqaror ⚖️",
        "sufficient - yetarli ✅",
        "transfer - o‘tkazmoq 🔁",
        "ultimate - yakuniy 🏁",
        "vital - zarur ❤️",
        "widespread - keng tarqalgan 🌍",
        "zone - hudud 🗺️"
      ],
      20: [
        "accurate - aniq 🎯",
        "benefit - foyda 💡",
        "contrast - farq 🆚",
        "define - aniqlamoq 📘",
        "efficient - samarali ⚙️",
        "factor - omil ⚙️",
        "govern - boshqarmoq 🧑‍⚖️",
        "highlight - ajratmoq ✨",
        "interpret - izohlamoq 🗣️",
        "justify - asoslamoq 🧾",
        "logical - mantiqiy 🤓",
        "maintain - saqlamoq 🛠️",
        "notion - tushuncha 💭",
        "objective - maqsad 🎯",
        "policy - siyosat 🏛️",
        "qualify - malaka olmoq 🎓",
        "range - doira 📊",
        "react - javob bermoq ⚡",
        "relevant - muhim 📎",
        "sequence - ketma-ketlik 🔢",
        "significant - ahamiyatli 🌟",
        "structure - tuzilma 🧩",
        "trend - yo‘nalish 📊",
        "unique - noyob 🦄",
        "variable - o‘zgaruvchi 🔀",
        "welfare - farovonlik 🏡",
        "yield - hosil bermoq 🌾",
        "analyze - tahlil qilmoq 🧠",
        "brief - qisqa 🗒️",
        "clarify - aniqlashtirmoq 💬",
        "distribute - tarqatmoq 📦",
        "expand - kengaymoq ➕",
        "focus - e’tibor qaratmoq 🎯",
        "generate - hosil qilmoq ⚡",
        "hypothesis - taxmin 🧪",
        "ignore - e’tibor bermaslik 🙈",
        "impact - ta’sir 💥",
        "motivate - rag‘batlantirmoq 🎯",
        "overall - umumiy 🌐",
        "perceive - sezmoq 👁️",
        "ratio - nisbat 📏",
        "reflect - aks ettirmoq 🪞",
        "respond - javob bermoq 💬",
        "specific - aniq 🎯",
        "stability - barqarorlik ⚖️",
        "theory - nazariya 📖",
        "ultimate - yakuniy 🏁",
        "valid - haqiqiy ✅",
        "visual - ko‘rinishli 👁️",
        "worthwhile - arzigulik 💎",
        "zone - hudud 🗺️"
      ],
      21: [
        "accomplish - bajarib chiqmoq 🏆",
        "assume - taxmin qilmoq 🤔",
        "balance - muvozanat ⚖️",
        "capacity - sig‘im 📦",
        "compete - raqobatlashmoq 🥇",
        "decline - kamaymoq 📉",
        "emerge - paydo bo‘lmoq 🌅",
        "flexible - moslashuvchan 🤸‍♂️",
        "generate - hosil qilmoq ⚡",
        "highlight - ajratmoq ✨",
        "implement - joriy qilmoq 🔧",
        "justify - asoslamoq 🧾",
        "knowledge - bilim 📘",
        "limit - cheklamoq 🚫",
        "maintain - saqlamoq 🛠️",
        "notion - tushuncha 💭",
        "obtain - qo‘lga kiritmoq 🏆",
        "perspective - qarash 👓",
        "qualify - malaka olmoq 🎓",
        "range - doira 📊",
        "react - javob bermoq ⚡",
        "relevant - muhim 📎",
        "sequence - ketma-ketlik 🔢",
        "significance - ahamiyat 🌟",
        "structure - tuzilma 🧩",
        "trend - yo‘nalish 📊",
        "unique - noyob 🦄",
        "variable - o‘zgaruvchi 🔀",
        "widespread - keng tarqalgan 🌍",
        "yield - natija bermoq 🌾",
        "adapt - moslashmoq 🌿",
        "benefit - foyda 💡",
        "clarify - aniqlashtirmoq 💬",
        "define - aniqlamoq 📘",
        "evaluate - baholamoq 📊",
        "facilitate - yengillashtirmoq 🤝",
        "goal - maqsad 🎯",
        "hypothesis - taxmin 🧪",
        "interpret - izohlamoq 🗣️",
        "logical - mantiqiy 🤓",
        "manual - qo‘lda bajariladigan ✋",
        "objective - maqsad 🎯",
        "ratio - nisbat 📏",
        "reflect - aks ettirmoq 🪞",
        "respond - javob bermoq 💬",
        "specific - aniq 🎯",
        "stability - barqarorlik ⚖️",
        "transfer - o‘tkazmoq 🔁",
        "valid - haqiqiy ✅",
        "visual - ko‘rinishli 👁️"
      ],

      22: [
        "abstract - mavhum 💭",
        "achieve - erishmoq 🏅",
        "appropriate - mos ✅",
        "behaviour - xulq-atvor 🤵",
        "complex - murakkab 🧩",
        "contrast - farq 🆚",
        "derive - kelib chiqmoq 🔗",
        "efficient - samarali ⚙️",
        "feature - xususiyat 📋",
        "govern - boshqarmoq 🧑‍⚖️",
        "highlight - ajratmoq ✨",
        "illustrate - misol keltirmoq 📚",
        "impact - ta’sir 💥",
        "justify - asoslamoq 🧾",
        "maintain - saqlamoq 🛠️",
        "network - tarmoq 🌐",
        "outcome - natija 🏁",
        "perspective - qarash 👓",
        "react - javob bermoq ⚡",
        "relevant - muhim 📎",
        "scheme - reja 📘",
        "sequence - ketma-ketlik 🔢",
        "specific - aniq 🎯",
        "structure - tuzilma 🧱",
        "trend - yo‘nalish 📊",
        "unique - noyob 🦄",
        "variable - o‘zgaruvchi 🔀",
        "welfare - farovonlik 🏡",
        "yield - hosil bermoq 🌾",
        "analyze - tahlil qilmoq 🧠",
        "broaden - kengaytirmoq 📈",
        "clarify - aniqlashtirmoq 💬",
        "define - aniqlamoq 📘",
        "emphasize - urg‘u bermoq 🔊",
        "focus - e’tibor qaratmoq 🎯",
        "generate - hosil qilmoq ⚡",
        "ignore - e’tibor bermaslik 🙈",
        "interpret - izohlamoq 🗣️",
        "knowledge - bilim 📗",
        "logic - mantiq 🤓",
        "manual - qo‘lda bajariladigan ✋",
        "objective - maqsad 🎯",
        "policy - siyosat 🏛️",
        "range - doira 📊",
        "reflect - aks ettirmoq 🪞",
        "respond - javob bermoq 💬",
        "significant - ahamiyatli 🌟",
        "temporary - vaqtinchalik ⏳",
        "ultimate - yakuniy 🏁",
        "visual - ko‘rinishli 👁️",
        "worthwhile - arzigulik 💎"
      ],
      23: [
        "acquire - egallamoq 📘",
        "balance - muvozanat ⚖️",
        "capacity - sig‘im 📦",
        "contrast - farq 🆚",
        "define - aniqlamoq 📘",
        "expand - kengaymoq ➕",
        "factor - omil ⚙️",
        "goal - maqsad 🎯",
        "highlight - ajratmoq ✨",
        "imply - nazarda tutmoq 💭",
        "justify - asoslamoq 🧾",
        "knowledge - bilim 📗",
        "limit - cheklamoq 🚫",
        "maintain - saqlamoq 🛠️",
        "notion - tushuncha 💭",
        "objective - maqsad 🎯",
        "perspective - qarash 👓",
        "qualify - malaka olmoq 🎓",
        "react - javob bermoq ⚡",
        "relevant - muhim 📎",
        "sequence - ketma-ketlik 🔢",
        "specific - aniq 🎯",
        "trend - yo‘nalish 📊",
        "unique - noyob 🦄",
        "variable - o‘zgaruvchi 🔀",
        "worthwhile - arzigulik 💎",
        "adapt - moslashmoq 🌿",
        "broaden - kengaytirmoq 📈",
        "clarify - aniqlashtirmoq 💬",
        "derive - kelib chiqmoq 🔗",
        "efficient - samarali ⚙️",
        "feature - xususiyat 📋",
        "generate - hosil qilmoq ⚡",
        "highlight - urg‘ulamoq ✨",
        "interpret - izohlamoq 🗣️",
        "logical - mantiqiy 🤓",
        "manual - qo‘lda bajariladigan ✋",
        "objective - maqsad 🎯",
        "policy - siyosat 🏛️",
        "ratio - nisbat 📏",
        "rely - suyanmoq 🤝",
        "scope - qamrov 📈",
        "stability - barqarorlik ⚖️",
        "sufficient - yetarli ✅",
        "transfer - o‘tkazmoq 🔁",
        "ultimate - yakuniy 🏁",
        "valid - haqiqiy ✅",
        "visual - ko‘rinishli 👁️",
        "welfare - farovonlik 🏡",
        "zone - hudud 🗺️"
      ],
      24: [
        "achieve - erishmoq 🏅",
        "behave - o‘zini tutmoq 🤵",
        "clarify - aniqlashtirmoq 💬",
        "derive - kelib chiqmoq 🔗",
        "emerge - paydo bo‘lmoq 🌅",
        "factor - omil ⚙️",
        "goal - maqsad 🎯",
        "highlight - ajratmoq ✨",
        "illustrate - misol keltirmoq 📚",
        "justify - asoslamoq 🧾",
        "knowledge - bilim 📘",
        "maintain - saqlamoq 🛠️",
        "notion - tushuncha 💭",
        "objective - maqsad 🎯",
        "perspective - qarash 👓",
        "react - javob bermoq ⚡",
        "relevant - muhim 📎",
        "sequence - ketma-ketlik 🔢",
        "significance - ahamiyat 🌟",
        "specific - aniq 🎯",
        "trend - yo‘nalish 📊",
        "unique - noyob 🦄",
        "variable - o‘zgaruvchi 🔀",
        "worthwhile - arzigulik 💎",
        "adapt - moslashmoq 🌿",
        "benefit - foyda 💡",
        "complex - murakkab 🧩",
        "define - aniqlamoq 📘",
        "expand - kengaymoq ➕",
        "focus - e’tibor qaratmoq 🎯",
        "generate - hosil qilmoq ⚡",
        "hypothesis - taxmin 🧪",
        "interpret - izohlamoq 🗣️",
        "logical - mantiqiy 🤓",
        "manual - qo‘lda bajariladigan ✋",
        "policy - siyosat 🏛️",
        "ratio - nisbat 📏",
        "reflect - aks ettirmoq 🪞",
        "respond - javob bermoq 💬",
        "specific - aniq 🎯",
        "structure - tuzilma 🧩",
        "temporary - vaqtinchalik ⏳",
        "ultimate - yakuniy 🏁",
        "valid - haqiqiy ✅",
        "visual - ko‘rinishli 👁️",
        "worthwhile - arzigulik 💎",
        "yield - hosil bermoq 🌾",
        "zone - hudud 🗺️",
        "conclude - xulosa chiqarmoq 🧠",
        "enhance - kuchaytirmoq 💪"
      ],
      25: [
        "abandon - tashlab ketmoq 🏚️",
        "accurate - aniq 🎯",
        "acknowledge - tan olmoq 🤝",
        "acquire - egallamoq 📘",
        "adapt - moslashmoq 🌿",
        "adjust - moslashtirmoq ⚙️",
        "allocate - taqsimlamoq 📊",
        "amend - tuzatmoq ✍️",
        "analyze - tahlil qilmoq 🧠",
        "anticipate - kutmoq 🕰️",
        "apparent - ayon 👀",
        "appreciate - qadrlamoq 💎",
        "appropriate - mos ✅",
        "aspect - jihat 🔍",
        "assist - yordam bermoq 🤝",
        "assume - taxmin qilmoq 🤔",
        "aware - xabardor 👁️",
        "background - kelib chiqish 🌄",
        "beneficial - foydali 💡",
        "capable - qobiliyatli 💪",
        "circumstance - holat 📋",
        "clarify - aniqlashtirmoq 💬",
        "collapse - qulash 🏗️",
        "combine - birlashtirmoq 🔗",
        "compete - raqobatlashmoq 🏅",
        "compose - tuzmoq ✍️",
        "conclude - xulosa qilmoq 🧠",
        "confirm - tasdiqlamoq ✅",
        "contribute - hissa qo‘shmoq 💪",
        "core - asosiy, markaziy 🧱",
        "create - yaratmoq 🎨",
        "decline - kamaymoq 📉",
        "define - aniqlamoq 📘",
        "demonstrate - ko‘rsatmoq 🧾",
        "derive - kelib chiqmoq 🔗",
        "detect - aniqlamoq 🔍",
        "diverse - turlicha 🎭",
        "emphasize - urg‘u bermoq 🔊",
        "enhance - yaxshilamoq ✨",
        "ensure - ta’minlamoq 🛡️",
        "evaluate - baholamoq 📊",
        "expand - kengaymoq ➕",
        "feature - xususiyat 📋",
        "focus - e’tibor qaratmoq 🎯",
        "generate - hosil qilmoq ⚡",
        "illustrate - misol keltirmoq 📚",
        "imply - nazarda tutmoq 💭",
        "interpret - izohlamoq 🗣️",
        "maintain - saqlamoq 🛠️",
        "predict - oldindan aytmoq 🔮"
      ],
      26: [
        "previous - oldingi ⏮️",
        "primary - asosiy 1️⃣",
        "principle - tamoyil 📖",
        "proceed - davom ettirmoq 🔁",
        "promote - targ‘ib qilmoq 📢",
        "proportion - nisbat 📏",
        "prospect - istiqbol 🔭",
        "provision - ta’minot 🧺",
        "publish - nashr qilmoq 📰",
        "pursue - ta’qib qilmoq 🏃‍♂️",
        "qualify - malaka olmoq 🎓",
        "range - doira 📊",
        "react - javob bermoq ⚡",
        "recession - iqtisodiy pasayish 📉",
        "recover - tiklanmoq 💪",
        "reflect - aks ettirmoq 🪞",
        "reinforce - mustahkamlash 🧱",
        "relate - bog‘lamoq 🔗",
        "relevant - muhim 📎",
        "rely - suyanmoq 🤝",
        "remarkable - ajoyib 🌟",
        "require - talab qilmoq 📋",
        "research - tadqiqot 🧪",
        "resource - manba 🌊",
        "respond - javob bermoq 💬",
        "restore - tiklamoq 🛠️",
        "restrict - cheklamoq 🚫",
        "retain - saqlab qolmoq 🧠",
        "revenue - daromad 💵",
        "reverse - teskari aylantirmoq 🔄",
        "role - rol 🎭",
        "scheme - reja 📘",
        "scope - qamrov 📈",
        "sector - soha 🏭",
        "sequence - ketma-ketlik 🔢",
        "significant - muhim 🌟",
        "similar - o‘xshash 👯",
        "source - manba 💧",
        "specific - aniq 🎯",
        "stable - barqaror ⚖️",
        "strategy - strategiya ♟️",
        "stress - bosim 😩",
        "structure - tuzilma 🧩",
        "subsequent - keyingi ⏭️",
        "sufficient - yetarli ✅",
        "sum - yig‘indi ➕",
        "sustain - davom ettirmoq 🔄",
        "symbol - ramz 🔣",
        "task - vazifa 📄",
        "technical - texnik ⚙️",
        "trend - yo‘nalish 📊"
      ],
      27: [
        "transfer - o‘tkazmoq 🔁",
        "transform - o‘zgartirmoq 🔄",
        "transition - o‘tish 🔃",
        "transmit - uzatmoq 📡",
        "transport - tashimoq 🚗",
        "ultimate - yakuniy 🏁",
        "unique - noyob 🦄",
        "utilize - foydalanmoq ⚙️",
        "valid - haqiqiy ✅",
        "variable - o‘zgaruvchi 🔀",
        "variation - farq 🔄",
        "vary - farqlanmoq ↔️",
        "vehicle - transport vositasi 🚘",
        "version - variant 📘",
        "via - orqali 🔄",
        "visible - ko‘rinadigan 👀",
        "vision - qarash 👓",
        "vital - zarur ❤️",
        "voluntary - ixtiyoriy 🤲",
        "welfare - farovonlik 🏡",
        "whereas - holbuki 🔁",
        "widespread - keng tarqalgan 🌍",
        "withdraw - qaytarib olmoq 💸",
        "witness - guvoh 👀",
        "worthwhile - arzigulik 💎",
        "yield - natija bermoq 🌾",
        "zone - hudud 🗺️",
        "accompany - hamroh bo‘lmoq 🚶‍♂️",
        "acknowledge - tan olmoq 🤝",
        "adapt - moslashmoq 🌿",
        "adjust - moslashtirmoq ⚙️",
        "allocate - ajratmoq 📊",
        "analyze - tahlil qilmoq 🧠",
        "anticipate - kutmoq 🕰️",
        "appreciate - qadrlamoq 💎",
        "arise - paydo bo‘lmoq 🌅",
        "assume - taxmin qilmoq 🤔",
        "attain - erishmoq 🏆",
        "aware - xabardor 👁️",
        "benefit - foyda 💡",
        "clarify - aniqlashtirmoq 💬",
        "collapse - qulash 🏗️",
        "combine - birlashtirmoq 🔗",
        "comment - izoh bermoq 💬",
        "commit - amalga oshirmoq ✍️",
        "compare - taqqoslamoq ⚖️",
        "comprehend - tushunmoq 🧠",
        "conceive - o‘ylab topmoq 💭",
        "conclude - xulosa qilmoq 🧾",
        "conduct - o‘tkazmoq ⚡",
        "confirm - tasdiqlamoq ✅",
        "conserve - asrab qolmoq 🌿"
      ],
      28: [
        "construct - qurmoq 🏗️",
        "consume - iste’mol qilmoq 🍽️",
        "contrast - farq 🆚",
        "contribute - hissa qo‘shmoq 💪",
        "convert - aylantirmoq 🔄",
        "cooperate - hamkorlik qilmoq 🤝",
        "core - asosiy 🧱",
        "create - yaratmoq 🎨",
        "credit - e’tirof 💳",
        "criteria - mezonlar 📏",
        "crucial - muhim 💥",
        "culture - madaniyat 🏛️",
        "currency - valyuta 💵",
        "cycle - aylanish 🔁",
        "data - ma’lumot 💾",
        "debate - bahs 🗣️",
        "decline - kamaymoq 📉",
        "define - aniqlamoq 📘",
        "demonstrate - ko‘rsatmoq 🧾",
        "deny - rad etmoq 🚫",
        "derive - kelib chiqmoq 🔗",
        "design - loyihalamoq 🎨",
        "despite - qaramay 🚶‍♂️",
        "detect - aniqlamoq 🔍",
        "device - qurilma 📱",
        "differ - farqlanmoq 🔀",
        "dimension - o‘lcham 📐",
        "distribute - tarqatmoq 📦",
        "diverse - turli 🌈",
        "document - hujjat 📄",
        "dominate - hukmronlik qilmoq 👑",
        "draft - loyihalamoq ✍️",
        "duration - davomiylik ⏳",
        "dynamic - o‘zgaruvchan 🔄",
        "economy - iqtisodiyot 💰",
        "edit - tahrir qilmoq ✂️",
        "element - unsur 🧩",
        "eliminate - yo‘q qilmoq ❌",
        "emerge - paydo bo‘lmoq 🌅",
        "emphasis - urg‘u 🔊",
        "enable - imkon bermoq 🔓",
        "encourage - ruhlantirmoq 💪",
        "energy - energiya ⚡",
        "enhance - kuchaytirmoq ✨",
        "ensure - ta’minlamoq 🛡️",
        "entity - birlik 🧠",
        "environment - atrof-muhit 🌍",
        "equate - tenglashtirmoq ⚖️",
        "evaluate - baholamoq 📊",
        "eventually - oxir-oqibat 🔚"
      ],
      29: [
        "evident - ravshan 👁️",
        "evolve - rivojlanmoq 🧬",
        "exceed - oshmoq ⬆️",
        "exclude - chiqarib tashlamoq 🚫",
        "exhibit - namoyish qilmoq 🖼️",
        "expand - kengaymoq ➕",
        "expert - mutaxassis 👩‍🔬",
        "exposure - ta’sirda bo‘lish ☀️",
        "external - tashqi 🚪",
        "extract - ajratmoq 🔍",
        "factor - omil ⚙️",
        "feature - xususiyat 📋",
        "federal - davlatga oid 🏛️",
        "file - fayl 📂",
        "finance - moliya 💸",
        "flexible - moslashuvchan 🤸‍♂️",
        "focus - e’tibor qaratmoq 🎯",
        "formula - formula 🔢",
        "foundation - asos 🧱",
        "framework - tuzilma 🧩",
        "function - vazifa ⚙️",
        "fundamental - asosiy 🧠",
        "generate - hosil qilmoq ⚡",
        "global - global 🌍",
        "goal - maqsad 🎯",
        "govern - boshqarmoq ⚖️",
        "guarantee - kafolat berish 🧾",
        "habit - odat 🔁",
        "highlight - ajratmoq ✨",
        "hypothesis - taxmin 🧪",
        "identify - aniqlamoq 🔍",
        "ignore - e’tibor bermaslik 🙈",
        "illustrate - misol keltirmoq 📚",
        "impact - ta’sir 💥",
        "implement - joriy qilmoq 🔧",
        "imply - nazarda tutmoq 💭",
        "improve - yaxshilamoq 📈",
        "include - o‘z ichiga olmoq ➕",
        "income - daromad 💵",
        "indicate - ko‘rsatmoq 👆",
        "inevitable - muqarrar 🔮",
        "influence - ta’sir qilmoq 🌪️",
        "informative - ma’lumotli 🧠",
        "initially - dastlab 🅰️",
        "innovation - yangilik 💡",
        "insight - tushuncha 🔍",
        "inspect - tekshirmoq 🕵️",
        "inspire - ilhom bermoq ✨",
        "instance - misol 📘"
      ],
      30: [
        "institute - muassasa 🏫",
        "instruction - yo‘riqnoma 📋",
        "insufficient - yetarli emas ❌",
        "integrate - birlashtirmoq 🔀",
        "intense - kuchli 🔥",
        "interpret - izohlamoq 🗣️",
        "interval - oraliq ⏱️",
        "intervene - aralashmoq ⚖️",
        "investigate - tekshirmoq 🔎",
        "involve - jalb qilmoq 🤝",
        "isolate - ajratmoq 🚷",
        "issue - masala 📄",
        "justify - asoslamoq 🧾",
        "labor - mehnat 👷‍♂️",
        "landscape - manzara 🌄",
        "layer - qatlam 🧱",
        "league - ittifoq ⚽",
        "legislation - qonunchilik ⚖️",
        "literature - adabiyot 📚",
        "logical - mantiqiy 🤓",
        "maintain - saqlamoq 🛠️",
        "major - asosiy ⭐",
        "manual - qo‘lda bajariladigan ✋",
        "margin - chegara 📏",
        "mature - yetuk 🌳",
        "measure - o‘lchamoq 📐",
        "medium - vosita 🪄",
        "mental - ruhiy 🧠",
        "migrate - ko‘chmoq 🛫",
        "minor - kichik 🔽",
        "modify - o‘zgartirmoq 🔧",
        "monitor - kuzatmoq 👀",
        "motivate - rag‘batlantirmoq 🎯",
        "mutual - o‘zaro 🤝",
        "neutral - betaraf ⚪",
        "notion - tushuncha 💭",
        "numerous - ko‘p 🔢",
        "obtain - qo‘lga kiritmoq 🏆",
        "occur - sodir bo‘lmoq 💥",
        "omit - tashlab ketmoq 🚫",
        "option - tanlov 🔘",
        "outcome - natija 🏁",
        "overall - umumiy 🌐",
        "overcome - yengmoq 💪",
        "participate - qatnashmoq 🎓",
        "perceive - sezmoq 👁️",
        "permanent - doimiy ♾️",
        "phenomenon - hodisa 🌪️",
        "philosophy - falsafa 📖",
        "physical - jismoniy 🏋️"
      ],

          31: [
            "organizations - tashkilotlar",
            "roles - rollar",
            "opportunities - imkoniyatlar",
            "organization - tashkilot",
            "charity - xayriya",
            "mentioned - tilga olingan",
            "advertise - reklama qilish",
            "within - ichida",
            "approaching a potential - murojaat qilish",
            "relevant - tegishli",
            "clearly - aniq",
            "dedicate - bag‘ishlamoq",
            "terms - jihatlar",
            "laying - joylashtirish",
            "potential - salohiyatli",
            "often envisaged - tasavvur qilinadi",
            "social and personal maturing - yetilish",
            "among - orasida",
            "expression - ifoda",
            "convey - yetkazmoq",
            "compressed - siqilgan",
            "audience engagement - ishtirok",
            "promotion - targ‘ibot",
            "sustaining - saqlash",
            "innovation - yangilik",
            "pure - sof",
            "enrolling - ro‘yxatdan o‘tish",
            "relocating - ko‘chish",
            "expert-led - mutaxassis boshchiligidagi",
            "aspiring - intilayotgan",
            "artists - rassomlar",
            "collaborate - hamkorlik qilmoq",
            "diverse - xilma-xil",
            "creative project - ijodiy loyiha",
            "invisible - ko‘rinmas",
            "digital - raqamli",
            "patterns - naqshlar",
            "prioritize - ustuvor qilish",
            "exposure - e'tiborga tushish",
            "redistributed - qayta taqsimlangan"
          ],

        };

    let favorites = JSON.parse(localStorage.getItem('favorites') || '{}');
    let currentSection = 1;
    let currentWords = [];
    let modalBg = document.getElementById('modalBg');







    function showModal(title, desc) {
      modalBg.innerHTML = `
      <div class="modal">
        <button class="modal-close" onclick="closeModal()"><span class="material-icons">close</span></button>
        <h3>${escapeHtml(title)}</h3>
        <p>${escapeHtml(desc)}</p>
      </div>
    `;
      modalBg.style.display = 'flex';
      modalBg.onclick = function (e) { if (e.target === modalBg) closeModal(); };
    }
    function closeModal() { modalBg.style.display = 'none'; modalBg.innerHTML = ''; }

    function escapeHtml(s) {
      if (!s) return '';
      return String(s).replace(/[&<>"]/g, function (t) { return { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;' }[t]; });
    }

    const enter = document.getElementById('enterBtn');
    const sectionsGrid = document.getElementById('sectionsGrid');
    const sectionsView = document.getElementById('sectionsView');
    const galleryView = document.getElementById('galleryView');
    const galleryGrid = document.getElementById('galleryGrid');
    const galleryTitle = document.getElementById('galleryTitle');
    const galleryStat = document.getElementById('galleryStat');
    const searchWord = document.getElementById('searchWord');
    // ---------- Telegram-uslubidagi dark mode ----------
    const themeBtn = document.getElementById('themeBtn');
    const themeIcon = document.getElementById('themeIcon');

    function setDarkMode(on) {
      if (on) {
        document.body.setAttribute('data-theme', 'dark');
        if (themeIcon) themeIcon.textContent = 'light_mode';
        localStorage.setItem('theme', 'dark');
      } else {
        document.body.removeAttribute('data-theme');
        if (themeIcon) themeIcon.textContent = 'dark_mode';
        localStorage.setItem('theme', 'light');
      }
    }

    // Compute header height and expose as CSS variable so scroll-padding works on mobile
    function updateHeaderHeightCSS() {
      try {
        const header = document.querySelector('header');
        const h = header ? Math.ceil(header.getBoundingClientRect().height) : 72;
        document.documentElement.style.setProperty('--header-h', h + 'px');
        // also set body.scrollPaddingTop for browsers that respect it on the element
        try { document.body.style.scrollPaddingTop = h + 'px'; } catch (e) { }
      } catch (e) { console.error('updateHeaderHeightCSS error', e); }
    }

    if (themeBtn) {
      themeBtn.addEventListener('click', () => {
        const isDark = document.body.getAttribute('data-theme') === 'dark';
        setDarkMode(!isDark);
        // header height might change due to theme styles; update CSS var
        try { updateHeaderHeightCSS(); } catch (e) { }
      });
    }

    window.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem('theme');
      if (saved === 'dark') {
        setDarkMode(true);
      } else {
        setDarkMode(false);
      }
      // set header height CSS var after initial layout
      try { updateHeaderHeightCSS(); } catch (e) { }
      // update on resize/orientation change
      try { window.addEventListener('resize', updateHeaderHeightCSS); } catch (e) { }
      // some browsers need a short delay after fonts/images load
      setTimeout(() => { try { updateHeaderHeightCSS(); } catch (e) { } }, 250);
    });
    // Defensive binding: ensure Enter button calls openSections even if earlier binding failed
    window.addEventListener('DOMContentLoaded', function () {
      try {
        const btn = document.getElementById('enterBtn');
        if (btn) {
          // remove any accidental duplicate listeners and add a clean one
          btn.onclick = null;
          btn.addEventListener('click', function handler() {
            try { openSections(); } catch (e) { console.error('openSections error', e); }
          });
          // If opened inside Telegram webview, try to open externally (Chrome / Google Translate) and show a fallback banner
          function showExternalOpenBanner(href, translateUrl) {
            try {
              const id = 'externalOpenBanner';
              let b = document.getElementById(id);
              if (!b) {
                b = document.createElement('div');
                b.id = id;
                b.style.position = 'fixed';
                b.style.left = '12px'; b.style.right = '12px'; b.style.bottom = '14px';
                b.style.zIndex = 50000; b.style.display = 'flex'; b.style.alignItems = 'center';
                b.style.justifyContent = 'space-between'; b.style.gap = '8px';
                b.style.padding = '12px'; b.style.background = 'linear-gradient(90deg,#fff,#f8fcff)';
                b.style.border = '1px solid rgba(0,0,0,0.06)'; b.style.borderRadius = '12px';
                b.innerHTML = `
                <div style="flex:1;min-width:0;font-size:14px;color:var(--text);">Sahifa Telegram ichida ochildi. Brauzerda ochish uchun tanlang:</div>
                <div style="display:flex;gap:8px;margin-left:12px;">
                  <button class="btn" id="extChromeBtn">Open in Chrome</button>
                  <button class="btn" id="extTranslateBtn">Open in Google Translate</button>
                  <button class="btn" id="extCloseBtn">Close</button>
                </div>
              `;
                document.body.appendChild(b);
                document.getElementById('extChromeBtn').addEventListener('click', function () {
                  try {
                    const intent = 'intent:' + href + '#Intent;package=com.android.chrome;scheme=https;end';
                    window.location.href = intent;
                    setTimeout(() => { try { window.open(href, '_blank'); } catch (e) { } }, 800);
                  } catch (e) { showToast('Ochib bo‘lmadi'); }
                });
                document.getElementById('extTranslateBtn').addEventListener('click', function () {
                  try { window.open(translateUrl, '_blank'); } catch (e) { showToast('Ochib bo‘lmadi'); }
                });
                document.getElementById('extCloseBtn').addEventListener('click', function () { b.style.display = 'none'; });
              }
              b.style.display = 'flex';
            } catch (e) { console.error('showExternalOpenBanner error', e); }
          }

          window.addEventListener('DOMContentLoaded', function () {
            try {
              const ua = navigator.userAgent || '';
              // detect Telegram in-app browser
              if (/Telegram/i.test(ua) && !sessionStorage.getItem('externalAttempted')) {
                sessionStorage.setItem('externalAttempted', '1');
                const href = location.href;
                // prepare a Google Translate URL that opens with the page URL pre-filled (translate the page URL)
                const translateUrl = 'https://translate.google.com/?sl=auto&tl=en&text=' + encodeURIComponent(document.title || '') + '&op=translate';
                // Try Android Chrome intent first
                try { window.location.href = 'intent:' + href + '#Intent;package=com.android.chrome;scheme=https;end'; } catch (e) { }
                // after short delay, fallback to open and show banner
                setTimeout(() => {
                  try { window.open(href, '_blank'); } catch (e) { }
                  showExternalOpenBanner(href, translateUrl);
                }, 700);
              }
            } catch (e) {/*ignore*/ }
          });
        } else {
          console.warn('Enter button not found during init');
        }
      } catch (err) { console.error('Enter bind failed', err); }
    });
    // ---------- tugadi ----------




    if (enter) {
      try { enter.addEventListener('click', () => openSections()); } catch (e) { enter.onclick = () => openSections(); }
    }

    function renderSections() {
      sectionsGrid.innerHTML = '';
      for (let i = 1; i <= Object.keys(words).length; i++) {
        const div = document.createElement('div');
        div.className = 'section-card';
        div.tabIndex = 0;
        div.innerHTML = `
        <div class="section-title">Bo‘lim ${i}</div>
        <div class="section-desc">${words[i].length} lug‘at</div>
        <span style="font-size:12px;color:var(--accent2);margin-top:8px;">${getFavoriteCount(i)} <span class="material-icons star" style="font-size:16px;">star</span></span>
      `;
        div.onclick = () => openGallery(i);
        div.onkeyup = (e) => { if (e.key === "Enter" || e.key === " ") openGallery(i); };
        sectionsGrid.appendChild(div);
      }
    }
    function getFavoriteCount(section) { return favorites[section] ? favorites[section].length : 0; }

    function openGallery(section, push = true) {
      currentSection = section;
      // push history state (if requested)
      if (push) { safePush({ view: 'gallery', section }, `#section${section}`); }
      sectionsView.style.display = 'none';
      // ensure hero is hidden when viewing a gallery (prevents page refresh/hash from leaving
      // the hero visible and pushing the gallery content downward)
      try { document.getElementById('hero').style.display = 'none'; } catch (e) { }
      galleryView.style.display = 'block';
      searchWord.value = '';
      // har safar lug‘atlarni boshidan chiqarish uchun slice() bilan yangi array
      renderGallery(words[section].slice());
      // sarlavha va statistika
      galleryTitle.textContent = `Bo‘lim ${section} lug‘atlari`;
      galleryStat.textContent = `Jami: ${words[section].length} so‘z | Yulduzlangan: ${getFavoriteCount(section)}`;
      // scrollni yuqoriga qaytarish
      // ensure container and window are scrolled to top (delay slightly to allow layout)
      setTimeout(() => {
        try { if (galleryGrid) { galleryGrid.scrollTop = 0; galleryGrid.scrollTo({ top: 0 }); } } catch (e) { }
  try { setScrollOffsetAndScroll(galleryView, 'auto', 0); } catch (e) { }
      }, 30);
    }

    // Utility: scroll an element into view taking sticky header into account
    function setScrollOffsetAndScroll(el, behavior = 'smooth', gap = 8) {
      if (!el) return;
      try {
        const header = document.querySelector('header');
        const headerHeight = header ? header.getBoundingClientRect().height : 0;
        // Apply temporary scrollMarginTop so scrollIntoView respects header
        const prev = el.style.scrollMarginTop;
        el.style.scrollMarginTop = (Math.ceil(headerHeight) + gap) + 'px';
        el.scrollIntoView({ behavior: behavior, block: 'start' });
        // cleanup after animation completes
        setTimeout(() => { try { el.style.scrollMarginTop = prev || ''; } catch (e) { } }, 700);
      } catch (e) { }
    }



    function openSections(push = true) {
      if (push) { safePush({ view: 'sections' }, '#sections'); }
      galleryView.style.display = 'none';
      sectionsView.style.display = 'block';
      document.getElementById('hero').style.display = 'none';
      renderSections();
      // Smooth scroll to top, taking sticky header into account
      setTimeout(() => {
        try { if (typeof sectionsView.scrollTo === 'function') sectionsView.scrollTo({ top: 0, behavior: 'smooth' }); } catch (e) { }
        try { setScrollOffsetAndScroll(sectionsView, 'smooth'); } catch (e) { }
      }, 20);
    }

    function goHome(push = true) {
      if (push) { safePush({ view: 'home' }, '#home'); }
      
      galleryView.style.display = 'none';
      sectionsView.style.display = 'none';
      document.getElementById('resourcesView').style.display = 'none';
      document.getElementById('resourceWindow').style.display = 'none';
      
      document.getElementById('hero').style.display = 'grid';
      
      // Immediately scroll to top smoothly
      try {
        window.scrollTo({ 
          top: 0, 
          behavior: 'smooth',
          block: 'start'
        });
      } catch (e) {
        // Fallback for older browsers
        window.scrollTo(0, 0);
      }
    }

    function renderGallery(wordList) {
      currentWords = wordList;
      galleryGrid.innerHTML = '';
      let filtered = searchWord.value ?
        wordList.filter(w => w.toLowerCase().includes(searchWord.value.toLowerCase())) : wordList;

      if (filtered.length === 0) {
        galleryGrid.innerHTML = '<div style="color:var(--muted);font-size:16px;padding:30px;">Hech narsa topilmadi</div>';
        return;
      }

      filtered.forEach((w) => {
        const div = document.createElement('div');
        div.className = 'img-wrap';
        div.tabIndex = 0;
        // extract English part (before ' - ') to speak/copy
        const english = (typeof w === 'string' && w.split(' - ')[0]) ? w.split(' - ')[0].trim() : String(w);
        div.innerHTML = `${escapeHtml(w)}
        <button class="speak-btn" title="O'qib berish" aria-label="speak"><span class="material-icons" style="font-size:20px">mic</span></button>
      `;

        // speak button handler
        const speakBtn = div.querySelector('.speak-btn');
        if (speakBtn) {
          speakBtn.addEventListener('click', function (e) {
            e.stopPropagation();
            speakText(english);
          });
        }
        galleryGrid.appendChild(div);
      });

      try { galleryGrid.scrollTop = 0; galleryGrid.scrollTo({ top: 0 }); } catch (e) { }
      setTimeout(() => { try { galleryGrid.scrollTop = 0; galleryGrid.scrollTo({ top: 0 }); } catch (e) { } }, 10);
      galleryStat.textContent = `Jami: ${wordList.length} so‘z | Yulduzlangan: ${getFavoriteCount(currentSection)}`;
    }


    // Toast
    function showToast(msg) {
      let toast = document.createElement('div');
      toast.textContent = msg;
      toast.style.position = 'fixed';
      toast.style.left = '50%';
      toast.style.bottom = '38px';
      toast.style.transform = 'translateX(-50%)';
      toast.style.background = 'var(--accent2)';
      toast.style.color = 'var(--text)';
      toast.style.fontWeight = '700';
      toast.style.padding = '12px 24px';
      toast.style.borderRadius = '12px';
      toast.style.zIndex = 30000;
      toast.style.fontSize = '14px';
      toast.style.opacity = "0";
      document.body.appendChild(toast);
      setTimeout(() => { toast.style.opacity = "1"; }, 60);
      setTimeout(() => { toast.style.opacity = "0"; }, 1600);
      setTimeout(() => { toast.remove(); }, 1800);
    }

    // TTS fallback banner for in-app browsers (Telegram) where speechSynthesis is missing
    function showTTSFallback(text) {
      try {
        const id = 'ttsFallbackBanner';
        let banner = document.getElementById(id);
        if (!banner) {
          banner = document.createElement('div');
          banner.id = id;
          banner.style.position = 'fixed';
          banner.style.left = '12px';
          banner.style.right = '12px';
          banner.style.bottom = '14px';
          banner.style.zIndex = 40000;
          banner.style.display = 'flex';
          banner.style.alignItems = 'center';
          banner.style.justifyContent = 'space-between';
          banner.style.gap = '10px';
          banner.style.padding = '12px 14px';
          banner.style.background = 'linear-gradient(90deg, #fff, #f1f7fb)';
          banner.style.border = '1px solid rgba(0,0,0,0.06)';
          banner.style.borderRadius = '12px';
          banner.style.boxShadow = '0 6px 18px rgba(0,0,0,0.08)';
          banner.style.fontSize = '14px';
          banner.style.color = 'var(--text)';

          banner.innerHTML = `
          <div style="flex:1; min-width:0;">TTS bu brauzerda mavjud emas — <strong class="tts-word"></strong></div>
          <div style="display:flex;gap:8px;margin-left:12px;">
            <button class="btn" id="ttsCopyBtn">Nusxalash</button>
            <button class="btn" id="ttsOpenBtn">Tashqi brauzerda ochish</button>
            <button class="btn" id="ttsCloseBtn">Yopish</button>
          </div>
        `;
          document.body.appendChild(banner);

          // handlers
          document.getElementById('ttsCopyBtn').addEventListener('click', function () {
            const w = banner.querySelector('.tts-word').textContent || '';
            if (navigator.clipboard && navigator.clipboard.writeText) {
              navigator.clipboard.writeText(w).then(() => showToast('So‘z nusxalandi'))
                .catch(() => showToast('Nusxalash muvaffaqiyatsiz'));
            } else {
              // fallback copy
              const ta = document.createElement('textarea'); ta.value = w; document.body.appendChild(ta); ta.select();
              try { document.execCommand('copy'); showToast('So‘z nusxalandi'); } catch (e) { showToast('Nusxalash muvaffaqiyatsiz'); }
              ta.remove();
            }
          });
          document.getElementById('ttsOpenBtn').addEventListener('click', function () {
            // Try to open externally. On Android use Chrome intent; on iOS/Safari use _blank.
            try {
              const href = location.href;
              const ua = navigator.userAgent || '';
              if (/Android/i.test(ua)) {
                // Chrome intent - this will open Chrome if available
                const intentUrl = 'intent:' + href + '#Intent;package=com.android.chrome;scheme=https;end';
                window.location.href = intentUrl;
                // fallback after short delay
                setTimeout(() => { try { window.open(href, '_blank'); } catch (e) { } }, 800);
              } else if (/iPhone|iPad|iPod/i.test(ua)) {
                // iOS: opening _blank should trigger Safari in many webviews
                window.open(href, '_blank');
              } else {
                window.open(href, '_blank');
              }
            } catch (e) { showToast('Brauzerni ochib bo‘lmadi'); }
          });
          document.getElementById('ttsCloseBtn').addEventListener('click', function () { banner.style.display = 'none'; });
        }
        banner.querySelector('.tts-word').textContent = text || '';
        banner.style.display = 'flex';
      } catch (e) { console.error('showTTSFallback error', e); showToast('TTS mavjud emas'); }
    }

    // Text-to-Speech helper using Web Speech API
    // Voice loader + helper to pick preferred English voice
    let _cachedVoices = null;
    function loadVoices() {
      try {
        const v = window.speechSynthesis.getVoices() || [];
        if (v && v.length) _cachedVoices = v;
        return _cachedVoices || v;
      } catch (e) { return []; }
    }
    // ensure voices updated when available
    if ('speechSynthesis' in window) {
      window.speechSynthesis.onvoiceschanged = function () { loadVoices(); };
      // try initial load
      setTimeout(loadVoices, 50);
    }

    function pickEnglishVoice(voices) {
      if (!voices || !voices.length) return null;
      // try lang that begins with en (en, en-US, en-GB)
      let v = voices.find(vo => /^en(?:-|$)/i.test(vo.lang));
      if (v) return v;
      // try lang containing en
      v = voices.find(vo => /\ben\b/i.test(vo.lang));
      if (v) return v;
      // try name containing 'english'
      v = voices.find(vo => /english/i.test(vo.name));
      if (v) return v;
      // last resort: pick first voice whose lang contains 'fr' not desired; prefer non-fr
      v = voices.find(vo => !/fr/i.test(vo.lang));
      return v || voices[0];
    }

    // Play audio returned by the server TTS proxy (/tts?text=...)
    async function playServerTTS(text) {
      if (!text) return;
      try {
        const url = '/tts?text=' + encodeURIComponent(text);
        const resp = await fetch(url);
        if (!resp.ok) throw new Error('TTS proxy error');
        const blob = await resp.blob();
        const audioUrl = URL.createObjectURL(blob);
        const a = new Audio(audioUrl);
        a.play().catch(err => {
          console.error('Audio play failed', err);
          showTTSFallback(text);
        });
        // revoke object URL after some time
        setTimeout(() => URL.revokeObjectURL(audioUrl), 60000);
      } catch (err) { console.error('playServerTTS error', err); showTTSFallback(text); }
    }

    function speakText(text, attempt = 0) {
      if (!text) return;
      try {
        if (!('speechSynthesis' in window)) {
          // try server-side TTS if available
          try { playServerTTS(text); return; } catch (e) { showTTSFallback(text); return; }
        }

        const voices = loadVoices();
        if (!voices || voices.length === 0) {
          // voices not loaded yet — retry a few times
          if (attempt < 12) { // ~1.2s total
            setTimeout(() => speakText(text, attempt + 1), 100);
            return;
          } else {
            // no voices available -> show fallback UI
            showTTSFallback(text);
            return;
          }
        }

        // cancel ongoing speech so new one plays promptly
        window.speechSynthesis.cancel();
        const utter = new SpeechSynthesisUtterance(text);
        const allVoices = voices && voices.length ? voices : window.speechSynthesis.getVoices() || [];
        const chosen = pickEnglishVoice(allVoices) || allVoices[0];
        if (chosen) {
          try { utter.voice = chosen; } catch (e) { }
          // prefer the voice's lang if available
          if (chosen.lang) utter.lang = chosen.lang;
        } else {
          utter.lang = 'en-US';
        }
        utter.rate = 0.95;
        utter.pitch = 1.0;
        window.speechSynthesis.speak(utter);

      } catch (err) {
        console.error('TTS error', err);
        showToast('TTS xatolik');
      }
    }

    // Search
    searchWord.oninput = () => renderGallery(words[currentSection]);

    // Favorites
    function toggleFavorite(word) {
      if (!favorites[currentSection]) favorites[currentSection] = [];
      if (favorites[currentSection].includes(word)) {
        favorites[currentSection] = favorites[currentSection].filter(w => w !== word);
      } else {
        favorites[currentSection].push(word);
      }
      localStorage.setItem('favorites', JSON.stringify(favorites));
    }

    // scrollToHero with smooth scroll and visual feedback
    function scrollToHero() {
      const hero = document.querySelector('.hero');
      if (!hero) return;
      
      // Smooth scroll with RAF for better performance
      const start = window.pageYOffset;
      const target = hero.offsetTop;
      const distance = target - start;
      const duration = 500;
      let startTime = null;

      function animation(currentTime) {
        if (startTime === null) startTime = currentTime;
        const timeElapsed = currentTime - startTime;
        const progress = Math.min(timeElapsed / duration, 1);
        
        // Easing function for smoother animation
        const ease = t => t<.5 ? 2*t*t : -1+(4-2*t)*t;
        
        window.scrollTo(0, start + (distance * ease(progress)));
        
        if (timeElapsed < duration) {
          requestAnimationFrame(animation);
        } else {
          // Visual feedback after scroll completes
          hero.style.transition = 'outline 0.3s ease-in-out';
          hero.style.outline = '2px solid var(--accent)';
          setTimeout(() => {
            hero.style.outline = '';
            setTimeout(() => hero.style.transition = '', 300);
          }, 700);
        }
      }
      
      requestAnimationFrame(animation);
    }

    // Site protection (kept)
    document.addEventListener('contextmenu', function (e) { e.preventDefault(); });
    document.addEventListener("keydown", function (e) {
      if (e.keyCode == 123 || (e.ctrlKey && e.shiftKey && e.keyCode == 73) || (e.ctrlKey && e.keyCode == 85)) {
        e.preventDefault();
        showToast("Sayt himoyalangan!");
      }
    });

    // Close modal if ESC
    window.addEventListener('keydown', function (e) { if (e.key === "Escape") closeModal(); });

    // Initialize SPA history state and handle back/forward navigation.
    // Ensures browser / Android back button navigates inside the app
    try {
      if ('scrollRestoration' in history) history.scrollRestoration = 'manual';
    } catch (e) { }

    // Handle page reload/refresh
    window.addEventListener('load', function(evt) {
      // Clear any existing hash to ensure clean state
      try {
        if (location.hash) {
          history.replaceState({view: 'home'}, '', location.pathname);
        }
      } catch (e) { }
      
      // Always go home on page load/refresh
      handleNavigationState({type: 'load'});
    });

    // On first load respect hash like #section3 or #sections
    (function () {
      const h = (location.hash || '').replace('#', '');
      // if deep-linking, hide hero briefly to avoid flash
      if (h && (h === 'sections' || /^section\d+$/.test(h))) {
        try { document.body.classList.add('init-hide'); } catch (e) { }
      }

      // run navigation slightly after load so browser finishes restore
      setTimeout(() => {
        if (/^section\d+$/.test(h)) {
          const sec = parseInt(h.replace('section', ''), 10) || 1;
          openGallery(sec, false);
          try { history.replaceState({ view: 'gallery', section: sec }, '', `#section${sec}`); } catch (e) { }
        } else if (h === 'sections') {
          openSections(false);
          try { history.replaceState({ view: 'sections' }, '', '#sections'); } catch (e) { }
        } else {
          goHome(false);
        }
        // remove the init-hide after a short delay to allow layout
        setTimeout(() => { try { document.body.classList.remove('init-hide'); } catch (e) { } }, 120);
      }, 40);
    })();

    // --- Resources (video gallery) ---
    (function () {
      const videos = [

        // --- Yangi videolar ---
        { id: 'X4B947IqV70', title: "New Video 1", note: "" },
        { id: 'IjfzWZdRbfo', title: "New Video 2", note: "" },
        { id: 'ZVzgfmqCwGQ', title: "New Video 3", note: "" },
        { id: 'bvoBy2J7vj0', title: "New Video 4", note: "" },
        { id: 'dMfsen6Dor4', title: "New Video 5", note: "" },
        { id: 'ndmjsf_DZtk', title: "New Video 6", note: "" },
        { id: 'llJtisztYdI', title: "New Video 7", note: "" },
        { id: 'qnbZF0--4GU', title: "New Video 8", note: "" },
        { id: '0FXfOR6gHOA', title: "New Video 9", note: "" },
        { id: 'SvJYznkdB9Y', title: "New Video 10", note: "" },
        { id: '702XzWEg_PY', title: "New Video 11", note: "" },
        { id: 'stmfj-JslcI', title: "New Video 12", note: "" },
        { id: 'ckJhTIROiXc', title: "New Video 13", note: "" },
        { id: 'bXbr9y6LPcc', title: "New Video 14", note: "" },
        { id: '4ZXTnqHg3L8', title: "New Video 15", note: "" },
        { id: 'bNVABRbLz-g', title: "New Video 16", note: "" }
      ];

      const showBtn = document.getElementById('showResourcesBtn');
      const resArea = document.getElementById('resourcesArea');
      const videoList = document.getElementById('videoList');
      const player = document.getElementById('videoPlayer');
      const resTitle = document.getElementById('resTitle');
      const resLead = document.getElementById('resLead');

      function renderList() {
        videoList.innerHTML = '';
        videos.forEach((v, idx) => {
          const div = document.createElement('div');
          div.className = 'video-item';
          div.tabIndex = 0;
          div.innerHTML = `<img class="video-thumb" src="https://i.ytimg.com/vi/${v.id}/hqdefault.jpg" alt="${escapeHtml(v.title)}">
          <div class="video-title">${escapeHtml(v.title)}</div>`;
          div.onclick = () => playVideo(idx);
          div.onkeyup = (e) => { if (e.key === 'Enter') playVideo(idx); };
          videoList.appendChild(div);
        });
      }

      function playVideo(i) {
        const v = videos[i];
        if (!v) return;
        player.innerHTML = `<iframe src="https://www.youtube.com/embed/${v.id}?rel=0" title="${escapeHtml(v.title)}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
        document.getElementById('resourceNote').textContent = v.note;
        // update title/lead to reflect language (user requested text changes)
        resTitle.textContent = 'Video resurs: ' + v.title;
        resLead.textContent = 'English explanation below the video. (Inglizcha)';
      }

      showBtn.addEventListener('click', function () {
        // kept for backward compat but primary action is openResources()
        openResources();
      });

      // resInfo button removed from DOM per user request; no info handler required

    })();

    // Demo fallback: populate resources list with sample videos if empty (non-destructive)
    (function(){
      try{
        const videoList = document.getElementById('videoList');
        const player = document.getElementById('videoPlayer');
        const resourceNote = document.getElementById('resourceNote');
        if(!videoList) return;
        if(videoList.children.length > 0) return; // existing code already filled it

        const samples = [
          {id:'ysz5S6PUM-U', title:'Funny English Conversation', note:'3:21 — Beginner friendly'},
          {id:'ScMzIvxBSi4', title:'Daily English Phrases', note:'5:12 — Useful phrases'},
          {id:'2Vv-BfVoq4g', title:'Short Story Listening', note:'4:00 — Listening practice'}
        ];

        samples.forEach((v, idx)=>{
          const div = document.createElement('div');
          div.className = 'video-item';
          div.tabIndex = 0;
          div.setAttribute('data-src', `https://www.youtube.com/embed/${v.id}?rel=0`);
          div.setAttribute('data-title', v.title);
          div.innerHTML = `<img class="video-thumb" src="https://i.ytimg.com/vi/${v.id}/hqdefault.jpg" alt="thumb">
            <div class="title-col"><div class="small-title">${v.title}</div><div class="small-meta">${v.note}</div></div>`;
          div.addEventListener('click', ()=>{
            const src = div.getAttribute('data-src');
            if(player) player.innerHTML = `<iframe src="${src}" title="${v.title}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
            if(resourceNote) resourceNote.textContent = v.note;
          });
          videoList.appendChild(div);
        });

        // set first
        if(samples[0] && player){
          const v = samples[0];
          player.innerHTML = `<iframe src="https://www.youtube.com/embed/${v.id}?rel=0" title="${v.title}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
          if(resourceNote) resourceNote.textContent = samples[0].note;
        }
      }catch(e){console.error(e)}
    })();

    // Full resources view (second window) functions
    function openResources() {
      // hide other main views and ensure proper cleanup
      document.getElementById('sectionsView').style.display = 'none';
      document.getElementById('galleryView').style.display = 'none';
      document.getElementById('resourceWindow').style.display = 'none';
      document.getElementById('hero').style.display = 'none';
      document.getElementById('resourcesView').style.display = 'block';
      
      // Render sections and handle navigation
      renderResourceSections();
      safePush({ view: 'resources' }, '#resources');
      
      // Smooth scroll to top with header offset
  setTimeout(() => { try { setScrollOffsetAndScroll(document.getElementById('resourcesView'), 'smooth', 0); } catch (e) { } }, 20);
    }

    function renderResourceSections() {
      // remove any lingering inline messages from previous interactions
      try { const old = document.querySelectorAll('#resourceSectionsGrid .no-videos'); old.forEach(n => n.remove()); } catch (e) { }
      const container = document.getElementById('resourceSectionsGrid');
      container.innerHTML = '';
      for (let i = 1; i <= 30; i++) {
        const div = document.createElement('div');
        div.className = 'section-card';
        div.tabIndex = 0;
        div.dataset.section = String(i);
        div.innerHTML = `<div class="section-title">Bo'lim ${i}</div><div class="section-desc">10 video</div>`;
        div.onclick = () => openResourceSection(i);
        div.onkeyup = (e) => { if (e.key === 'Enter') openResourceSection(i); };
        container.appendChild(div);
      }
    }

    // mapping section -> array of video objects (id,title,note)
    const resourceVideos = {
      1: [
        { id: 'ZD3ZaytFKiU', title: ' Video 1', note: "" },
        { id: 'URM0-DQJ27Q', title: ' Video 2', note: "" }, 
        { id: 'DvfTJqczEgM', title: ' Video 3', note: "" },
        { id: 'X4B947IqV70', title: " Video 4", note: "" },
        { id: 'IjfzWZdRbfo', title: " Video 5", note: "" },
        { id: 'ZVzgfmqCwGQ', title: " Video 6", note: "" },
        { id: 'bvoBy2J7vj0', title: " Video 7", note: "" },
        { id: 'dMfsen6Dor4', title: " Video 8", note: "" },
        { id: 'ndmjsf_DZtk', title: " Video 9", note: "" },
        { id: 'llJtisztYdI', title: " Video 10", note: "" },
        { id: 'qnbZF0--4GU', title: " Video 11", note: "" },
        { id: '0FXfOR6gHOA', title: " Video 12", note: "" },
        { id: 'SvJYznkdB9Y', title: " Video 13", note: "" },
        { id: '702XzWEg_PY', title: " Video 14", note: "" },
        { id: 'stmfj-JslcI', title: " Video 15", note: "" },
        { id: 'ckJhTIROiXc', title: " Video 16", note: "" },
        { id: 'bXbr9y6LPcc', title: " Video 17", note: "" },
        { id: '4ZXTnqHg3L8', title: " Video 18", note: "" },
        { id: 'bNVABRbLz-g', title: " Video 19", note: "" }
      ]
    };

    // Global o'zgaruvchi video indeksi uchun
    let currentVideoIndex = 0;

    function playVideoFromCard(videoId, title, note, index) {
      currentVideoIndex = index;
      playVideoModal(videoId);
      updateNavigationButtons();
    }

    function playNextVideo() {
      const videos = resourceVideos[currentSection] || [];
      if (currentVideoIndex < videos.length - 1) {
        currentVideoIndex++;
        const nextVideo = videos[currentVideoIndex];
        playVideoModal(nextVideo.id);
        updateNavigationButtons();
      }
    }

    function playPreviousVideo() {
      const videos = resourceVideos[currentSection] || [];
      if (currentVideoIndex > 0) {
        currentVideoIndex--;
        const prevVideo = videos[currentVideoIndex];
        playVideoModal(prevVideo.id);
        updateNavigationButtons();
      }
    }

    function updateNavigationButtons() {
      const videos = resourceVideos[currentSection] || [];
      const prevBtn = document.getElementById('prevVideoBtn');
      const nextBtn = document.getElementById('nextVideoBtn');
      
      if (prevBtn) {
        prevBtn.style.display = currentVideoIndex > 0 ? 'flex' : 'none';
      }
      if (nextBtn) {
        nextBtn.style.display = currentVideoIndex < videos.length - 1 ? 'flex' : 'none';
      }
    }

    function openResourceSection(section, push = true) {
      currentSection = section;
      // open full resource window for the section
      const list = resourceVideos[section] || [];
      const win = document.getElementById('resourceWindow');
      const grid = document.getElementById('resourceWindowGrid');
      document.getElementById('resourcesView').style.display = 'none';
      win.style.display = 'block';
      document.getElementById('resourceWindowTitle').textContent = `Bo'lim ${section} videolari`;
      document.getElementById('resourceWindowStat').textContent = `${list.length} video`;
      // Grid containerga stil qo'shamiz
      grid.style.display = 'grid';
      grid.style.gridTemplateColumns = 'repeat(auto-fill, minmax(280px, 1fr))';
      grid.style.gap = '15px';
      grid.style.padding = '15px';
      
      grid.innerHTML = '';
      if (!list.length) {
        const msg = document.createElement('div');
        msg.className = 'resource-empty';
        msg.textContent = 'Video joylanmagan';
        grid.appendChild(msg);
      } else {
        list.forEach((v, idx) => {
          const card = document.createElement('div');
          card.className = 'resource-card';
          // thumbnail + title + play button 
          const thumbSrc = v.id ? `https://i.ytimg.com/vi/${v.id}/hqdefault.jpg` : '';
          card.innerHTML = `
          <div class="video-item" style="cursor:pointer;position:relative;display:flex;flex-direction:column;height:200px;border-radius:12px;overflow:hidden;background:var(--surface);border:1px solid var(--accent2)" onclick="playVideoFromCard('${escapeHtml(v.id || '')}', '${escapeHtml(v.title || ('Video ' + (idx + 1)))}', '${escapeHtml(v.note || '')}', ${idx})">
            <img src="${thumbSrc}" alt="thumb" style="width:100%;height:140px;object-fit:cover">
            <div style="flex:1;padding:10px;display:flex;flex-direction:column;justify-content:space-between">
              <div style="font-weight:600;font-size:14px;line-height:1.4">${escapeHtml(v.title || ('Video ' + (idx + 1)))}</div>
              <div style="color:var(--muted);font-size:12px">${escapeHtml(v.note || '')}</div>
            </div>
            <div class="play-button" style="position:absolute;left:50%;top:70px;transform:translate(-50%,-50%);background:rgba(0,0,0,0.7);border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;">
              <span class="material-icons" style="color:white;font-size:24px">play_arrow</span>
            </div>
          </div>
        `;
          grid.appendChild(card);
        });
      }
      if (push) { try { history.pushState({ view: 'resourceWindow', section }, '', `#resource-window-${section}`); } catch (e) { } }
      // Scroll so the resource window is visible below the sticky header 
      try { setScrollOffsetAndScroll(win, 'smooth', 0); } catch (e) { }
    }

    // Play a video inside modal
    // Load YouTube IFrame API (if not loaded)
    let _ytApiLoaded = false;
    let _ytPlayer = null;
    function loadYouTubeAPI(cb) {
      if (window.YT && window.YT.Player) { _ytApiLoaded = true; return cb && cb(); }
      const tag = document.createElement('script');
      tag.src = 'https://www.youtube.com/iframe_api';
      const firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      window.onYouTubeIframeAPIReady = function () { _ytApiLoaded = true; cb && cb(); };
    }

    function playVideoModal(videoId) {
      if (!videoId) return showToast('Video ID mavjud emas');
      const modalContent = document.getElementById('resourceModalContent');
      modalContent.innerHTML = `<div id="ytPlayerWrap" style="width:100%;height:100%;"></div>`;
      document.getElementById('resourceModalBg').style.display = 'flex';
      // ensure API loaded then create player
      loadYouTubeAPI(function () {
        // destroy previous
        try { if (_ytPlayer && _ytPlayer.destroy) _ytPlayer.destroy(); } catch (e) { }
        _ytPlayer = new YT.Player('ytPlayerWrap', {
          height: '100%', width: '100%', videoId: videoId,
          playerVars: { autoplay: 1, controls: 1, rel: 0 },
          events: {
            'onStateChange': function (e) {
              // 0 means ended
              if (e.data === YT.PlayerState.ENDED) {
                // only close the modal/player — do not navigate away from the current section
                setTimeout(() => {
                  try { if (_ytPlayer && _ytPlayer.destroy) { _ytPlayer.destroy(); _ytPlayer = null; } } catch (e) { }
                  document.getElementById('resourceModalBg').style.display = 'none';
                }, 200);
              }
            }
          }
        });
      });
    }

    // back button for resource window (guarded)
    (function () {
      const backBtn = document.getElementById('resourceBackBtn');
      if (!backBtn) return;
      backBtn.addEventListener('click', function () {
        // Let the history/popstate handler manage the transition so state stays consistent.
        try { history.back(); } catch (e) {
          // Fallback: manually show resources view
          const rw = document.getElementById('resourceWindow'); if (rw) rw.style.display = 'none';
          try { renderResourceSections(); } catch (e) { }
          const rv = document.getElementById('resourcesView'); if (rv) rv.style.display = 'block';
        }
      });
    })();

    function closeResourceModal() {
      // hide modal and destroy player but do NOT navigate history — keep user inside the same section/view
      document.getElementById('resourceModalBg').style.display = 'none';
      try { if (_ytPlayer && _ytPlayer.destroy) { _ytPlayer.destroy(); _ytPlayer = null; } } catch (e) { }
    }

    // safe pushState fallback (use hash when pushState unavailable)
    function safePush(stateObj, hash) {
      try { history.pushState(stateObj, '', hash); }
      catch (e) { try { location.hash = hash; } catch (e) { } }
    }

    // central navigation handler used by popstate and hashchange
    function handleNavigationState(evt) {
      // On page refresh/reload, always go home
      if (evt && evt.type === 'load') {
        goHome(false);
        return;
      }

      const state = (evt && evt.state) || {};
      const hash = (location && location.hash) ? location.hash : '';

      // Default to home if no state/hash
      if (!state.view && !hash) {
        goHome(false);
        return;
      }

      // Handle specific views based on state/hash
      if (state.view === 'home' || hash === '#home' || hash === '') {
        goHome(false);
      } else if (state.view === 'sections' || hash === '#sections') {
        openSections(false);
      } else if (state.view === 'gallery' && state.section) {
        openGallery(state.section, false);
      } else {
        // If no matching route, go home
        goHome(false);
      }
    }

    window.addEventListener('popstate', handleNavigationState);
    window.addEventListener('hashchange', function () { handleNavigationState({ state: history.state }); });

  </script>

  <script>
    (function(){
      const logos = [
          './logo-pro-knot.svg',
          './logo-pro-solid.svg',
          './logo-pro-badge2.svg',
          './logo-premium-glyph.svg',
          './logo-refined-glyph.svg',
          './logo-pro-monogram.svg',
          './logo-pro-abstract.svg',
          './logo-pro-badge.svg',
          './logo.svg'
        ];
      const img = document.getElementById('siteLogoImg');
      const wrap = document.getElementById('siteLogoWrap');
      let idx = parseInt(localStorage.getItem('siteLogoIdx') || '0', 10);
      if(!logos[idx]) idx = 0;
      img.src = logos[idx];

      function setIdx(newIdx){
        idx = (newIdx + logos.length) % logos.length;
        img.src = logos[idx];
        localStorage.setItem('siteLogoIdx', String(idx));
      }
<!-- Admin populate snippet (for copy into just.html) -->
<div id="adminPopulate" style="position:fixed;right:12px;bottom:12px;width:360px;max-width:90vw;background:rgba(255,255,255,0.96);border:1px solid #ddd;padding:12px;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.08);display:none;z-index:9999;font-family:Inter,Arial,sans-serif;font-size:13px;color:#111;">
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
    <b>Populate sections</b>
    <button id="adminCloseBtn" style="background:transparent;border:none;font-size:16px;cursor:pointer">✖</button>
  </div>
  <label style="font-size:12px;color:#666;">Paste URLs (one per line)</label>
  <textarea id="adminUrls" style="width:100%;height:140px;margin-top:6px;padding:8px;border-radius:6px;border:1px solid #ddd;resize:vertical"></textarea>
  <div style="display:flex;gap:8px;margin-top:8px;align-items:center">
    <label style="font-size:12px;color:#666">Sections:</label>
    <input id="adminSections" type="number" min="1" value="3" style="width:64px;padding:6px;border-radius:6px;border:1px solid #ddd" />
    <button id="adminPopulateBtn" class="btn" style="margin-left:auto">Populate</button>
  </div>
  <div style="font-size:12px;color:#888;margin-top:8px">Tip: paste many links — they will be split into 10 per section and extra will be ignored.</div>
</div>
  /* Logo switching disabled per user request. To re-enable, uncomment below.
  img.addEventListener('click', function(){ setIdx(idx+1); });
  img.addEventListener('contextmenu', function(e){ e.preventDefault(); setIdx(idx-1); return false; });
  // keyboard support: press L while focusing header to cycle forward
  document.addEventListener('keydown', function(e){ if(e.key.toLowerCase() === 'l') setIdx(idx+1); });
  */
    })();
  </script>
</body>

</html>
